{"version":3,"file":"channel-list.bundle.map.js","names":["this","BX","Messenger","v2","Component","exports","main_date","im_v2_component_elements","im_v2_lib_utils","im_v2_lib_parser","im_v2_lib_dateFormatter","im_v2_lib_logger","im_v2_lib_user","im_v2_application_core","im_v2_lib_rest","main_core","im_v2_const","im_v2_lib_layout","im_v2_lib_menu","MessageText","name","components","MessageAvatar","props","item","type","Object","required","computed","AvatarSize","recentItem","dialog","$store","getters","dialogId","message","formattedDate","formatDate","date","isLastMessageAuthor","authorId","Core","getUserId","lastMessageAuthorAvatar","author","avatar","lastMessageAuthorAvatarStyle","backgroundImage","messageText","isDeleted","loc","formattedText","Parser","purifyRecent","formattedMessageText","SPLIT_INDEX","Utils","text","insertUnseenWhitespace","methods","DateFormatter","formatByTemplate","DateTemplate","recent","phraseCode","replacements","$Bitrix","Loc","getMessage","template","ChannelItem","ChatAvatar","ChatTitle","data","needsBirthdayPlaceholder","formattedCounter","counter","toString","layout","isUser","ChatType","user","isChat","isChatSelected","Layout","channel","entityId","isChatMuted","isMuted","muteList","find","element","Boolean","showLastMessage","Settings","invitation","wrapClasses","EmptyState","_itemsPerPage","babelHelpers","classPrivateFieldLooseKey","_isLoading","_pagesLoaded","_hasMoreItemsToLoad","_lastMessageId","_requestItems","_updateModels","_getMinMessageId","ChannelService","constructor","defineProperty","value","_getMinMessageId2","_updateModels2","_requestItems2","firstPageIsLoaded","writable","loadFirstPage","classPrivateFieldLooseBase","result","firstPage","loadNextPage","Promise","resolve","hasMoreItemsToLoad","async","queryParams","limit","filter","lastMessageId","runAction","RestMethod","imV2RecentChannelTail","catch","error","console","Logger","warn","messages","hasNextPage","getStore","dispatch","restResult","users","chats","files","recentItems","usersPromise","UserManager","setUsersToModel","dialoguesPromise","messagesPromise","filesPromise","recentPromise","all","length","firstMessageId","id","reduce","minId","nextMessage","Math","min","TAG","_pullClient","_requestWatchStart","PullWatchManager","_requestWatchStart2","getPullClient","subscribe","extendWatch","unsubscribe","clearWatch","imV2RecentChannelExtendPullWatch","ChannelRecentMenu","RecentMenu","getMenuItems","getOpenItem","onclick","LayoutManager","getInstance","setLayout","context","menuInstance","close","ChannelList","LoadingState","ListLoadingState","emits","isLoading","isLoadingNextPage","firstPageLoaded","collection","preparedItems","sort","a","b","firstMessage","messageId","secondMessage","isEmptyCollection","created","contextMenuManager","beforeUnmount","destroy","activated","getRecentService","getPullWatchManager","deactivated","onScroll","event","dom","isOneScreenRemaining","target","onClick","$emit","onRightClick","preventDefault","openMenu","currentTarget","service","pullWatchManager","List","Main","Elements","Lib","Application","Const"],"sources":["channel-list.bundle.js"],"mappings":"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","ignoreList":[]}