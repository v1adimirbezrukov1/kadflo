{"version":3,"file":"registry.bundle.js","sources":["../src/avatar/components/base/avatar.js","../src/avatar/components/base/base-ui-avatar.js","../src/avatar/components/collab/collab-chat.js","../src/avatar/components/collab/collaber.js","../src/avatar/components/extranet/extranet-chat-avatar.js","../src/avatar/chat-notes-avatar.js","../src/avatar/chat-avatar.js","../src/avatar/components/extranet/extranet-user-avatar.js","../src/avatar/message-avatar.js","../src/avatar/empty-avatar.js","../src/chat-title/chat-title.js","../src/message-author-title/message-author-title.js","../src/button/button.js","../src/popup/popup.js","../src/menu/menu-item.js","../src/menu/menu.js","../src/attach/components/delimiter/delimiter.js","../src/attach/components/file/file-item.js","../src/attach/components/file/file.js","../src/attach/components/grid/grid-item.js","../src/attach/components/grid/grid.js","../src/attach/components/html/html.js","../src/attach/components/image/image-item.js","../src/attach/components/image/image.js","../src/attach/components/link/link-item.js","../src/attach/components/link/link.js","../src/attach/components/message/message.js","../src/attach/components/rich/rich-service.js","../src/attach/components/rich/rich-item.js","../src/attach/components/rich/rich.js","../src/attach/components/user/user-item.js","../src/attach/components/user/user.js","../src/attach/attach.js","../src/chat-info-popup/chat-info-content.js","../src/chat-info-popup/chat-info-popup.js","../src/user-list-popup/classes/user-list-service.js","../src/loader/loader.js","../src/user-list-popup/user-item.js","../src/user-list-popup/user-list-content.js","../src/user-list-popup/user-list-popup.js","../src/keyboard/components/keyboard-button.js","../src/keyboard/components/keyboard-separator.js","../src/keyboard/classes/action-manager.js","../src/keyboard/classes/bot-service.js","../src/keyboard/keyboard.js","../src/user-status/user-status.js","../src/dropdown/dropdown.js","../src/loader/spinner.js","../src/loader/line-loader.js","../src/toggle/toggle.js","../src/tabs/tabs.js","../src/videoplayer/helpers/format-time.js","../src/audioplayer/audioplayer.js","../src/chat-title-with-highlighting/chat-title-wiith-highlighting.js","../src/search-input/search-input.js","../src/editable-chat-title/editable-chat-title.js","../src/scroll-with-gradient/scroll-with-gradient.js","../src/dialog-status/components/input-actions.js","../src/dialog-status/classes/user-service.js","../src/dialog-status/components/additional-users.js","../src/dialog-status/components/read-status.js","../src/dialog-status/dialog-status.js","../src/create-chat-promo/components/promo-popup.js","../src/create-chat-promo/components/group-chat.js","../src/create-chat-promo/components/conference.js","../src/create-chat-promo/components/channel.js","../src/create-chat-promo/create-chat-promo.js","../src/list-loading-state/list-loading-state.js","../src/copilot-roles-dialog/copilot-roles-dialog.js","../src/hint/hint.js","../src/videoplayer/videoplayer.js","../src/segment-button/segment-button.js","../src/input-action-indicator/input-action-indicator.js","../src/auto-delete/auto-delete-dropdown.js","../src/auto-delete/components/radio-group/radio-group.js","../src/auto-delete/auto-delete-popup.js","../src/auto-delete/auto-delete-hint.js"],"sourcesContent":["import 'ui.fonts.opensans';\n\nimport { ChatType } from 'im.v2.const';\nimport { Utils } from 'im.v2.lib.utils';\nimport { ChannelManager } from 'im.v2.lib.channel';\n\nimport './css/avatar.css';\n\nimport type { ImModelChat } from 'im.v2.model';\n\nexport const AvatarSize = Object.freeze({\n\tXXS: 'XXS',\n\tXS: 'XS',\n\tS: 'S',\n\tM: 'M',\n\tL: 'L',\n\tXL: 'XL',\n\tXXL: 'XXL',\n\tXXXL: 'XXXL',\n});\n\nexport const AvatarSizeMap = Object.freeze({\n\t[AvatarSize.XXXL]: 94,\n\t[AvatarSize.XXL]: 60,\n\t[AvatarSize.XL]: 48,\n\t[AvatarSize.L]: 42,\n\t[AvatarSize.M]: 32,\n\t[AvatarSize.S]: 22,\n\t[AvatarSize.XS]: 18,\n\t[AvatarSize.XXS]: 14,\n});\n\n// @vue/component\nexport const Avatar = {\n\tname: 'MessengerAvatar',\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tcustomSource: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tbackgroundColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tdata(): Object\n\t{\n\t\treturn {\n\t\t\timageLoadError: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tisChannel(): boolean\n\t\t{\n\t\t\treturn ChannelManager.isChannel(this.dialogId);\n\t\t},\n\t\tisSpecialType(): boolean\n\t\t{\n\t\t\tconst commonTypes = [ChatType.user, ChatType.chat, ChatType.open, ChatType.lines];\n\n\t\t\treturn !commonTypes.includes(this.dialog.type);\n\t\t},\n\t\tcontainerTitle(): string\n\t\t{\n\t\t\tif (!this.withTooltip)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--size-${this.size.toLowerCase()}`];\n\t\t\tif (this.withSpecialTypes && this.isSpecialType)\n\t\t\t{\n\t\t\t\tclasses.push('--special');\n\t\t\t}\n\t\t\tconst typeClass = ChatType[this.dialog.type] ? `--${this.dialog.type}` : '--default';\n\t\t\tclasses.push(typeClass);\n\n\t\t\treturn classes;\n\t\t},\n\t\tbackgroundColorStyle(): {backgroundColor: string}\n\t\t{\n\t\t\tif (this.backgroundColor)\n\t\t\t{\n\t\t\t\treturn { backgroundColor: this.backgroundColor };\n\t\t\t}\n\n\t\t\treturn { backgroundColor: this.dialog.color };\n\t\t},\n\t\tavatarText(): string\n\t\t{\n\t\t\tif (!this.showAvatarLetters || !this.isEnoughSizeForText)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn Utils.text.getFirstLetters(this.dialog.name);\n\t\t},\n\t\tshowAvatarLetters(): boolean\n\t\t{\n\t\t\tconst SPECIAL_TYPES_WITH_LETTERS = [ChatType.openChannel, ChatType.channel];\n\t\t\tif (SPECIAL_TYPES_WITH_LETTERS.includes(this.dialog.type))\n\t\t\t{\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\treturn !this.isSpecialType;\n\t\t},\n\t\tshowSpecialTypeIcon(): boolean\n\t\t{\n\t\t\tif (!this.withSpecialTypes || !this.withSpecialTypeIcon || this.isChannel)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn this.isSpecialType;\n\t\t},\n\t\tisEnoughSizeForText(): boolean\n\t\t{\n\t\t\tconst avatarSizesWithText = [AvatarSize.M, AvatarSize.L, AvatarSize.XL, AvatarSize.XXL, AvatarSize.XXXL];\n\n\t\t\treturn avatarSizesWithText.includes(this.size.toUpperCase());\n\t\t},\n\t\tavatarUrl(): string\n\t\t{\n\t\t\treturn this.customSource.length > 0 ? this.customSource : this.dialog.avatar;\n\t\t},\n\t\thasImage(): boolean\n\t\t{\n\t\t\treturn this.avatarUrl && !this.imageLoadError;\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tavatarUrl()\n\t\t{\n\t\t\tthis.imageLoadError = false;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonImageLoadError()\n\t\t{\n\t\t\tthis.imageLoadError = true;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div :title=\"containerTitle\" :class=\"containerClasses\" class=\"bx-im-avatar__scope bx-im-avatar__container\">\n\t\t\t<!-- Avatar -->\n\t\t\t<template v-if=\"hasImage\">\n\t\t\t\t<img :src=\"avatarUrl\" :alt=\"dialog.name\" class=\"bx-im-avatar__content --image\" @error=\"onImageLoadError\" draggable=\"false\"/>\n\t\t\t\t<div v-if=\"showSpecialTypeIcon\" :style=\"backgroundColorStyle\" class=\"bx-im-avatar__special-type_icon\"></div>\n\t\t\t</template>\n\t\t\t<div v-else-if=\"withAvatarLetters && avatarText\" :style=\"backgroundColorStyle\" class=\"bx-im-avatar__content --text\">\n\t\t\t\t{{ avatarText }}\n\t\t\t</div>\n\t\t\t<div v-else :style=\"backgroundColorStyle\" class=\"bx-im-avatar__content bx-im-avatar__icon\"></div>\n\t\t</div>\n\t`,\n};\n","import { AvatarHexagonGuest, AvatarRoundExtranet, AvatarRoundGuest, AvatarBase } from 'ui.avatar';\nimport { AvatarSize, AvatarSizeMap } from './avatar';\n\nimport './css/base-ui-avatar.css';\n\nexport const AvatarType = {\n\textranet: 'extranet',\n\tcollaber: 'collaber',\n\tcollab: 'collab',\n\tdefault: 'default',\n};\n\n// @vue/component\nexport const BaseUiAvatar = {\n\tprops: {\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t\tvalidator(value): boolean\n\t\t\t{\n\t\t\t\treturn Object.values(AvatarType).includes(value);\n\t\t\t},\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\turl: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tbackgroundColor: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcomputed: {\n\t\tAvatarSize: () => AvatarSize,\n\t\tcalculatedSize(): number\n\t\t{\n\t\t\treturn AvatarSizeMap[this.size];\n\t\t},\n\t},\n\twatch: {\n\t\ttitle()\n\t\t{\n\t\t\tthis.avatar.setTitle(this.title);\n\t\t},\n\t\turl()\n\t\t{\n\t\t\tthis.setAvatarImage();\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tconst classMap = {\n\t\t\textranet: AvatarRoundExtranet,\n\t\t\tcollaber: AvatarRoundGuest,\n\t\t\tcollab: AvatarHexagonGuest,\n\t\t\tdefault: AvatarBase,\n\t\t};\n\n\t\tconst AvatarClass = classMap[this.type] || classMap.default;\n\t\tthis.avatar = new AvatarClass({\n\t\t\tsize: this.calculatedSize,\n\t\t\ttitle: this.title,\n\t\t});\n\n\t\tthis.setAvatarImage();\n\t\tthis.setBackgroundColor();\n\t},\n\tmounted()\n\t{\n\t\tif (this.avatar && this.$refs.avatarContainer)\n\t\t{\n\t\t\tthis.avatar.renderTo(this.$refs.avatarContainer);\n\t\t}\n\t},\n\tmethods: {\n\t\tsetAvatarImage(): void\n\t\t{\n\t\t\tif (!this.url)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.avatar.setUserPic(this.url);\n\t\t},\n\t\tsetBackgroundColor(): void\n\t\t{\n\t\t\tif (!this.backgroundColor)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.avatar.setBaseColor(this.backgroundColor);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-base-ui-avatar__container\" ref=\"avatarContainer\"></div>\n\t`,\n};\n","import { Color } from 'im.v2.const';\n\nimport { AvatarSize } from '../base/avatar';\nimport { BaseUiAvatar, AvatarType } from '../base/base-ui-avatar';\n\nimport type { ImModelChat } from 'im.v2.model';\n\n// @vue/component\nexport const CollabChatAvatar = {\n\tname: 'CollabChatAvatar',\n\tcomponents: { BaseUiAvatar },\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tcustomSource: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tAvatarType: () => AvatarType,\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tdialogName(): string\n\t\t{\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tdialogAvatarUrl(): string\n\t\t{\n\t\t\treturn this.dialog.avatar;\n\t\t},\n\t\tcollabBackgroundColor(): string\n\t\t{\n\t\t\treturn Color.collab60;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseUiAvatar\n\t\t\t:type=\"AvatarType.collab\"\n\t\t\t:key=\"dialogId\"\n\t\t\t:title=\"dialogName\" \n\t\t\t:size=\"size\" \n\t\t\t:url=\"dialogAvatarUrl\" \n\t\t\t:backgroundColor=\"collabBackgroundColor\" \n\t\t/>\n\t`,\n};\n","import { Color } from 'im.v2.const';\n\nimport { AvatarSize } from '../base/avatar';\nimport { AvatarType, BaseUiAvatar } from '../base/base-ui-avatar';\n\nimport type { ImModelChat } from 'im.v2.model';\n\n// @vue/component\nexport const CollaberAvatar = {\n\tname: 'CollaberAvatar',\n\tcomponents: { BaseUiAvatar },\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tcustomSource: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tAvatarType: () => AvatarType,\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tdialogName(): string\n\t\t{\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tdialogAvatarUrl(): string\n\t\t{\n\t\t\treturn this.dialog.avatar;\n\t\t},\n\t\tcollaberBackgroundColor(): string\n\t\t{\n\t\t\treturn Color.collab60;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseUiAvatar\n\t\t\t:type=\"AvatarType.collaber\"\n\t\t\t:key=\"dialogId\"\n\t\t\t:title=\"dialogName\" \n\t\t\t:size=\"size\" \n\t\t\t:url=\"dialogAvatarUrl\"\n\t\t\t:backgroundColor=\"collaberBackgroundColor\" \n\t\t/>\n\t`,\n};\n","import { Color } from 'im.v2.const';\n\nimport { AvatarSize, Avatar } from '../base/avatar';\n\nimport type { ImModelChat } from 'im.v2.model';\n\n// @vue/component\nexport const ExtranetChatAvatar = {\n\tname: 'ExtranetChatAvatar',\n\tcomponents: { Avatar },\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tcustomSource: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tdialogName(): string\n\t\t{\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tdialogAvatarUrl(): string\n\t\t{\n\t\t\treturn this.dialog.avatar;\n\t\t},\n\t\textranetBackgroundColor(): string\n\t\t{\n\t\t\treturn Color.orange50;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Avatar\n\t\t\t:dialogId=\"dialogId\"\n\t\t\t:title=\"dialogName\" \n\t\t\t:size=\"size\" \n\t\t\t:url=\"dialogAvatarUrl\" \n\t\t\t:backgroundColor=\"extranetBackgroundColor\" \n\t\t/>\n\t`,\n};\n","import { AvatarSize } from './components/base/avatar';\n\nimport './css/chat-notes-avatar.css';\n\n// @vue/component\nexport const ChatNotesAvatar = {\n\tname: 'ChatNotesAvatar',\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tcustomSource: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tsizeClass(): string\n\t\t{\n\t\t\treturn `--size-${this.size.toLowerCase()}`;\n\t\t},\n\t},\n\tmethods: {\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div :class=\"sizeClass\" class=\"bx-im-chat-notes-avatar\" :title=\"loc('IM_ELEMENTS_CHAT_MY_NOTES')\"></div>\n\t`,\n};\n","import { ExtranetUserAvatar } from 'im.v2.component.elements';\nimport { ChatType, UserType } from 'im.v2.const';\nimport { CopilotManager } from 'im.v2.lib.copilot';\n\nimport { Avatar, AvatarSize } from './components/base/avatar';\nimport { CollabChatAvatar } from './components/collab/collab-chat';\nimport { CollaberAvatar } from './components/collab/collaber';\nimport { ExtranetChatAvatar } from './components/extranet/extranet-chat-avatar';\nimport { ChatNotesAvatar } from './chat-notes-avatar';\n\nimport type { BitrixVueComponentProps } from 'ui.vue3';\nimport type { ImModelChat, ImModelUser } from 'im.v2.model';\n\nexport const ChatAvatarType = {\n\tnotes: 'notes',\n};\n\n// @vue/component\nexport const ChatAvatar = {\n\tname: 'ChatAvatar',\n\tcomponents: { Avatar, CollabAvatar: CollabChatAvatar, CollaberAvatar, ExtranetUserAvatar, ChatNotesAvatar },\n\tprops: {\n\t\tavatarDialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tcontextDialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tcustomType: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcomputed: {\n\t\tisUser(): boolean\n\t\t{\n\t\t\treturn this.avatarDialog.type === ChatType.user;\n\t\t},\n\t\tuser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.avatarDialogId, true);\n\t\t},\n\t\tcustomAvatarUrl(): string\n\t\t{\n\t\t\tconst copilotManager = new CopilotManager();\n\t\t\tif (!copilotManager.isCopilotChatOrBot(this.avatarDialogId))\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn copilotManager.getRoleAvatarUrl({\n\t\t\t\tavatarDialogId: this.avatarDialogId,\n\t\t\t\tcontextDialogId: this.contextDialogId,\n\t\t\t});\n\t\t},\n\t\tavatarDialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.avatarDialogId, true);\n\t\t},\n\t\tisCollabChat(): boolean\n\t\t{\n\t\t\treturn this.avatarDialog.type === ChatType.collab;\n\t\t},\n\t\tisCollaber(): boolean\n\t\t{\n\t\t\treturn this.user?.type === UserType.collaber;\n\t\t},\n\t\tisExtranetChat(): boolean\n\t\t{\n\t\t\treturn this.avatarDialog.extranet;\n\t\t},\n\t\tisExtranet(): boolean\n\t\t{\n\t\t\treturn this.user?.type === UserType.extranet;\n\t\t},\n\t\tavatarComponent(): BitrixVueComponentProps\n\t\t{\n\t\t\tif (this.customType === ChatAvatarType.notes)\n\t\t\t{\n\t\t\t\treturn ChatNotesAvatar;\n\t\t\t}\n\n\t\t\tif (this.isExtranet)\n\t\t\t{\n\t\t\t\treturn ExtranetUserAvatar;\n\t\t\t}\n\n\t\t\tif (this.isCollaber)\n\t\t\t{\n\t\t\t\treturn CollaberAvatar;\n\t\t\t}\n\n\t\t\tif (this.isCollabChat)\n\t\t\t{\n\t\t\t\treturn CollabChatAvatar;\n\t\t\t}\n\n\t\t\treturn this.isExtranetChat ? ExtranetChatAvatar : Avatar;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<component\n\t\t\t:is=\"avatarComponent\"\n\t\t\t:dialogId=\"avatarDialogId\"\n\t\t\t:customSource=\"customAvatarUrl\"\n\t\t\t:size=\"size\"\n\t\t\t:withAvatarLetters=\"withAvatarLetters\"\n\t\t\t:withSpecialTypes=\"withSpecialTypes\"\n\t\t\t:withSpecialTypeIcon=\"withSpecialTypeIcon\"\n\t\t\t:withTooltip=\"withTooltip\"\n\t\t/>\n\t`,\n};\n","import { AvatarSize } from '../base/avatar';\nimport { AvatarType, BaseUiAvatar } from '../base/base-ui-avatar';\n\nimport type { ImModelChat } from 'im.v2.model';\n\n// @vue/component\nexport const ExtranetUserAvatar = {\n\tname: 'ExtranetUserAvatar',\n\tcomponents: { BaseUiAvatar },\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tcustomSource: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tAvatarType: () => AvatarType,\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tdialogName(): string\n\t\t{\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tdialogAvatarUrl(): string\n\t\t{\n\t\t\treturn this.dialog.avatar;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseUiAvatar\n\t\t\t:type=\"AvatarType.extranet\"\n\t\t\t:title=\"dialogName\"\n\t\t\t:size=\"size\"\n\t\t\t:url=\"dialogAvatarUrl\"\n\t\t/>\n\t`,\n};\n","import { UserType } from 'im.v2.const';\nimport { CopilotManager } from 'im.v2.lib.copilot';\n\nimport { Avatar, AvatarSize } from './components/base/avatar';\nimport { CollaberAvatar } from './components/collab/collaber';\nimport { ExtranetUserAvatar } from './components/extranet/extranet-user-avatar';\n\nimport type { BitrixVueComponentProps } from 'ui.vue3';\nimport type { ImModelUser } from 'im.v2.model';\n\n// @vue/component\nexport const MessageAvatar = {\n\tname: 'MessageAvatar',\n\tcomponents: { Avatar, CollaberAvatar },\n\tprops: {\n\t\tmessageId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tauthorId: {\n\t\t\ttype: [String, Number],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t\twithAvatarLetters: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypes: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithSpecialTypeIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithTooltip: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tcomputed: {\n\t\tcustomAvatarUrl(): string\n\t\t{\n\t\t\tconst copilotManager = new CopilotManager();\n\t\t\tif (!copilotManager.isCopilotMessage(this.messageId))\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn copilotManager.getMessageRoleAvatar(this.messageId);\n\t\t},\n\t\tuser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.authorId, true);\n\t\t},\n\t\tavatarComponent(): BitrixVueComponentProps\n\t\t{\n\t\t\tconst avatarMap = {\n\t\t\t\t[UserType.extranet]: ExtranetUserAvatar,\n\t\t\t\t[UserType.collaber]: CollaberAvatar,\n\t\t\t};\n\n\t\t\treturn avatarMap[this.user.type] ?? Avatar;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<component\n\t\t\t:is=\"avatarComponent\"\n\t\t\t:dialogId=\"authorId\"\n\t\t\t:customSource=\"customAvatarUrl\"\n\t\t\t:size=\"size\"\n\t\t\t:withAvatarLetters=\"withAvatarLetters\"\n\t\t\t:withSpecialTypes=\"withSpecialTypes\"\n\t\t\t:withSpecialTypeIcon=\"withSpecialTypeIcon\"\n\t\t\t:withTooltip=\"withTooltip\"\n\t\t/>\n\t`,\n};\n","import { Type } from 'main.core';\n\nimport { Color } from 'im.v2.const';\n\nimport { AvatarSize } from './components/base/avatar';\nimport { AvatarType, BaseUiAvatar } from './components/base/base-ui-avatar';\n\nimport './css/empty-avatar.css';\n\nimport type { JsonObject } from 'main.core';\n\nexport const EmptyAvatarType = Object.freeze({\n\tdefault: 'default',\n\tsquared: 'squared',\n\tcollab: 'collab',\n});\n\nconst COLLAB_EMPTY_AVATAR_URL = '/bitrix/js/im/v2/component/elements/src/avatar/components/base/css/images/camera.png';\n\n// @vue/component\nexport const EmptyAvatar = {\n\tname: 'EmptyAvatar',\n\tcomponents: { BaseUiAvatar },\n\tprops: {\n\t\turl: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\ttype: {\n\t\t\ttype: String,\n\t\t\tdefault: EmptyAvatarType.default,\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: AvatarSize.M,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\timageLoadError: false,\n\t\t};\n\t},\n\tcomputed: {\n\t\tAvatarSize: () => AvatarSize,\n\t\tAvatarType: () => AvatarType,\n\t\tColor: () => Color,\n\t\tisSquared(): boolean\n\t\t{\n\t\t\treturn this.type === EmptyAvatarType.squared;\n\t\t},\n\t\tisCollabType(): boolean\n\t\t{\n\t\t\treturn this.type === EmptyAvatarType.collab;\n\t\t},\n\t\tcollabEmptyAvatarUrl(): string\n\t\t{\n\t\t\tif (!Type.isStringFilled(this.url))\n\t\t\t{\n\t\t\t\treturn COLLAB_EMPTY_AVATAR_URL;\n\t\t\t}\n\n\t\t\treturn this.url;\n\t\t},\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--size-${this.size.toLowerCase()}`];\n\t\t\tif (this.isSquared)\n\t\t\t{\n\t\t\t\tclasses.push('--squared');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<BaseUiAvatar\n\t\t\t:type=\"AvatarType.collab\"\n\t\t\tv-if=\"isCollabType\" \n\t\t\t:url=\"collabEmptyAvatarUrl\" \n\t\t\t:size=\"size\"\n\t\t\t:title=\"title\"\n\t\t\t:backgroundColor=\"Color.collab10\"\n\t\t/>\n\t\t<div v-else class=\"bx-im-empty-avatar__container\" :class=\"containerClasses\">\n\t\t\t<div v-if=\"!url\" class=\"bx-im-empty-avatar__avatar --default\"></div>\n\t\t\t<img v-else class=\"bx-im-empty-avatar__avatar --image\" :src=\"url\" :alt=\"title\"/>\n\t\t</div>\n\t`,\n};\n","import { Text, Type } from 'main.core';\n\nimport { Core } from 'im.v2.application.core';\nimport { ChatType, Settings, UserType } from 'im.v2.const';\n\nimport './chat-title.css';\n\nimport type { ImModelChat, ImModelUser, ImModelBot } from 'im.v2.model';\n\nconst DialogSpecialType = {\n\tbot: 'bot',\n\textranet: 'extranet',\n\tnetwork: 'network',\n\tcollaber: 'collaber',\n\tsupport24: 'support24',\n};\n\nconst TitleIcons = {\n\tabsent: 'absent',\n\tbirthday: 'birthday',\n};\n\nexport const ChatTitleType = {\n\tnotes: 'notes',\n};\n\nexport const ChatTitle = {\n\tname: 'ChatTitle',\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0,\n\t\t},\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tshowItsYou: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithLeftIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithColor: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithMute: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithAutoDelete: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tonlyFirstName: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\ttwoLine: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tcustomType: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tchatId(): number\n\t\t{\n\t\t\treturn this.dialog.chatId;\n\t\t},\n\t\tuser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.dialogId, true);\n\t\t},\n\t\tbotType(): string\n\t\t{\n\t\t\tif (!this.isUser)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tconst bot: ?ImModelBot = this.$store.getters['users/bots/getByUserId'](this.dialogId);\n\t\t\tif (!bot)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn bot.type;\n\t\t},\n\t\tisUser(): boolean\n\t\t{\n\t\t\treturn this.dialog.type === ChatType.user;\n\t\t},\n\t\tisSelfChat(): boolean\n\t\t{\n\t\t\treturn this.isUser && this.user.id === Core.getUserId();\n\t\t},\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst classes = [];\n\n\t\t\tif (this.twoLine)\n\t\t\t{\n\t\t\t\tclasses.push('--twoline');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tdialogName(): string\n\t\t{\n\t\t\tif (this.customType === ChatTitleType.notes)\n\t\t\t{\n\t\t\t\treturn this.loc('IM_SEARCH_MY_NOTES');\n\t\t\t}\n\n\t\t\tif (this.text)\n\t\t\t{\n\t\t\t\treturn Text.encode(this.text);\n\t\t\t}\n\n\t\t\tlet resultText = this.dialog.name;\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\tresultText = this.onlyFirstName ? this.user.firstName : this.user.name;\n\t\t\t}\n\n\t\t\treturn Text.encode(resultText);\n\t\t},\n\t\tdialogSpecialType(): string\n\t\t{\n\t\t\tif (!this.isUser)\n\t\t\t{\n\t\t\t\tif (this.isCollabChat)\n\t\t\t\t{\n\t\t\t\t\treturn '';\n\t\t\t\t}\n\n\t\t\t\tif (this.isExtranet)\n\t\t\t\t{\n\t\t\t\t\treturn DialogSpecialType.extranet;\n\t\t\t\t}\n\n\t\t\t\tif (this.isCollaberChatOrUser)\n\t\t\t\t{\n\t\t\t\t\treturn DialogSpecialType.collaber;\n\t\t\t\t}\n\n\t\t\t\tif ([ChatType.support24Notifier, ChatType.support24Question].includes(this.dialog.type))\n\t\t\t\t{\n\t\t\t\t\treturn DialogSpecialType.support24;\n\t\t\t\t}\n\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif (this.isSelfChat)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif (this.isBot)\n\t\t\t{\n\t\t\t\treturn this.botType;\n\t\t\t}\n\n\t\t\tif (this.isExtranet)\n\t\t\t{\n\t\t\t\treturn DialogSpecialType.extranet;\n\t\t\t}\n\n\t\t\tif (this.isCollaberChatOrUser)\n\t\t\t{\n\t\t\t\treturn DialogSpecialType.collaber;\n\t\t\t}\n\n\t\t\tif (this.isNetwork)\n\t\t\t{\n\t\t\t\treturn DialogSpecialType.network;\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tisDialogSpecialTypeWithLeftIcon(): boolean\n\t\t{\n\t\t\tif (this.isCollaberChatOrUser || this.isExtranet)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn Type.isStringFilled(this.dialogSpecialType);\n\t\t},\n\t\tleftIcon(): string\n\t\t{\n\t\t\tif (!this.withLeftIcon)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif (this.isDialogSpecialTypeWithLeftIcon)\n\t\t\t{\n\t\t\t\treturn this.dialogSpecialType;\n\t\t\t}\n\n\t\t\tif (!this.isUser)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tif (this.showBirthdays && this.user.isBirthday && !this.isSelfChat)\n\t\t\t{\n\t\t\t\treturn TitleIcons.birthday;\n\t\t\t}\n\n\t\t\tif (this.user.isAbsent)\n\t\t\t{\n\t\t\t\treturn TitleIcons.absent;\n\t\t\t}\n\n\t\t\treturn '';\n\t\t},\n\t\tcolor(): string\n\t\t{\n\t\t\tif (!this.withColor || this.specialColor)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.dialog.color;\n\t\t},\n\t\tspecialColor(): string\n\t\t{\n\t\t\treturn this.dialogSpecialType;\n\t\t},\n\t\tisBot(): boolean\n\t\t{\n\t\t\tif (!this.isUser)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn this.user.type === UserType.bot;\n\t\t},\n\t\tisExtranet(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.type === UserType.extranet;\n\t\t\t}\n\n\t\t\treturn this.dialog.extranet;\n\t\t},\n\t\tisCollaberChatOrUser(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.type === UserType.collaber;\n\t\t\t}\n\n\t\t\treturn this.dialog.containsCollaber;\n\t\t},\n\t\tisCollabChat(): boolean\n\t\t{\n\t\t\treturn this.dialog.type === ChatType.collab;\n\t\t},\n\t\tisNetwork(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.network;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tisChatMuted(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tconst isMuted = this.dialog.muteList.find((element) => {\n\t\t\t\treturn element === Core.getUserId();\n\t\t\t});\n\n\t\t\treturn Boolean(isMuted);\n\t\t},\n\t\tisAutoDeleteEnabled(): boolean\n\t\t{\n\t\t\tif (!this.withAutoDelete)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn this.$store.getters['chats/autoDelete/isEnabled'](this.chatId);\n\t\t},\n\t\ttooltipText(): string\n\t\t{\n\t\t\tif (this.customType === ChatTitleType.notes)\n\t\t\t{\n\t\t\t\treturn this.loc('IM_SEARCH_MY_NOTES');\n\t\t\t}\n\n\t\t\tif (this.isSelfChat && this.showItsYou)\n\t\t\t{\n\t\t\t\treturn `${this.dialog.name} (${this.loc('IM_LIST_RECENT_CHAT_SELF')})`;\n\t\t\t}\n\n\t\t\treturn this.dialog.name;\n\t\t},\n\t\tshowBirthdays(): boolean\n\t\t{\n\t\t\treturn this.$store.getters['application/settings/get'](Settings.recent.showBirthday);\n\t\t},\n\t},\n\tmethods: {\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div :class=\"containerClasses\" class=\"bx-im-chat-title__scope bx-im-chat-title__container\">\n\t\t\t<span class=\"bx-im-chat-title__content\">\n\t\t\t\t<span v-if=\"leftIcon\" :class=\"'--' + leftIcon\" class=\"bx-im-chat-title__icon\"></span>\n\t\t\t\t<span\n\t\t\t\t\t:class=\"[specialColor ? '--' + specialColor : '']\"\n\t\t\t\t\t:style=\"{color: color}\"\n\t\t\t\t\t:title=\"tooltipText\"\n\t\t\t\t\tclass=\"bx-im-chat-title__text\"\n\t\t\t\t\tv-html=\"dialogName\"\n\t\t\t\t></span>\n\t\t\t\t<strong v-if=\"isSelfChat && showItsYou\">\n\t\t\t\t\t<span class=\"bx-im-chat-title__text --self\">({{ loc('IM_LIST_RECENT_CHAT_SELF') }})</span>\n\t\t\t\t</strong>\n\t\t\t\t<span v-if=\"withMute && isChatMuted\" class=\"bx-im-chat-title__muted-icon\"></span>\n\t\t\t\t<span \n\t\t\t\t\tv-if=\"isAutoDeleteEnabled\" \n\t\t\t\t\tclass=\"bx-im-messenger__auto-delete-icon bx-im-chat-title__auto-delete-icon\"\n\t\t\t\t></span>\n\t\t\t</span>\n\t\t</div>\n\t`,\n};\n","import { CopilotManager } from 'im.v2.lib.copilot';\n\nimport { ChatTitle } from '../chat-title/chat-title';\n\nimport type { ImModelMessage } from 'im.v2.model';\n\n// @vue/component\nexport const MessageAuthorTitle = {\n\tname: 'MessageAuthorTitle',\n\tcomponents: { ChatTitle },\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0,\n\t\t},\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tshowItsYou: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithLeftIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithColor: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\twithMute: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tonlyFirstName: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\ttwoLine: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tmessage(): ImModelMessage\n\t\t{\n\t\t\treturn this.$store.getters['messages/getById'](this.messageId);\n\t\t},\n\t\tauthorId(): number\n\t\t{\n\t\t\treturn this.message.authorId;\n\t\t},\n\t\tcustomAuthorName(): string\n\t\t{\n\t\t\tconst copilotManager = new CopilotManager();\n\t\t\tif (!copilotManager.isCopilotBot(this.dialogId))\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn copilotManager.getNameWithRole({\n\t\t\t\tdialogId: this.dialogId,\n\t\t\t\tmessageId: this.messageId,\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<ChatTitle \n\t\t\t:dialogId=\"dialogId\"\n\t\t\t:text=\"customAuthorName\"\n\t\t\t:showItsYou=\"showItsYou\"\n\t\t\t:withLeftIcon=\"withLeftIcon\"\n\t\t\t:withColor=\"withColor\"\n\t\t\t:withMute=\"withMute\"\n\t\t\t:onlyFirstName=\"onlyFirstName\"\n\t\t\t:twoLine=\"twoLine\"\n\t\t/>\n\t`,\n};\n","import { Type } from 'main.core';\n\nimport './button.css';\n\nexport const ButtonSize = {\n\tS: 'S', // 18\n\tM: 'M', // 26\n\tL: 'L', // 31\n\tXL: 'XL', // 39\n\tXXL: 'XXL', // 47\n};\n\nexport const ButtonColor = {\n\tPrimary: 'primary',\n\tPrimaryLight: 'primary-light',\n\tCopilot: 'copilot',\n\tSuccess: 'success',\n\tDanger: 'danger',\n\tLightBorder: 'light-border',\n\tDangerBorder: 'danger-border',\n\tPrimaryBorder: 'primary-border',\n\tLink: 'link',\n\tCollab: 'collab',\n\tDelete: 'delete',\n\tForward: 'forward',\n};\n\nexport const ButtonIcon = {\n\tPlus: 'plus',\n\tLink: 'link',\n\tCall: 'call',\n\tEndCall: 'end-call',\n\tAddUser: 'add-user',\n\tCamera: 'camera',\n\tDelete: 'delete',\n\tForward: 'forward',\n};\n\nexport type CustomColorScheme = {\n\tborderColor: string,\n\tbackgroundColor: string,\n\ticonColor: string,\n\ttextColor: string,\n\thoverColor: string\n};\n\n// @vue/component\nexport const Button = {\n\tname: 'MessengerButton',\n\tprops:\n\t{\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ButtonColor.Primary,\n\t\t},\n\t\tcustomColorScheme: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault: (): CustomColorScheme => {\n\t\t\t\treturn {\n\t\t\t\t\tborderColor: '',\n\t\t\t\t\tbackgroundColor: '',\n\t\t\t\t\ticonColor: '',\n\t\t\t\t\ttextColor: '',\n\t\t\t\t\thoverColor: '',\n\t\t\t\t\ttextHoverColor: '',\n\t\t\t\t};\n\t\t\t},\n\t\t},\n\t\tisRounded: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tisDisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tisLoading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tisUppercase: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\temits: ['click'],\n\tcomputed:\n\t{\n\t\tbuttonStyles()\n\t\t{\n\t\t\tconst result = {};\n\t\t\tif (this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tresult['--im-button__border-color'] = this.customColorScheme.borderColor;\n\t\t\t\tresult['--im-button__background-color'] = this.customColorScheme.backgroundColor;\n\t\t\t\tresult['--im-button__color'] = this.customColorScheme.textColor;\n\t\t\t\tresult['--im-button__background-color_hover'] = this.customColorScheme.hoverColor;\n\t\t\t\tresult['--im-button__color_hover'] = this.customColorScheme.textHoverColor ?? this.customColorScheme.textColor;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\tbuttonClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--size-${this.size.toLowerCase()}`];\n\t\t\tif (!this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tclasses.push(`--color-${this.color.toLowerCase()}`);\n\t\t\t}\n\n\t\t\tif (this.isRounded)\n\t\t\t{\n\t\t\t\tclasses.push('--rounded');\n\t\t\t}\n\n\t\t\tif (this.isDisabled)\n\t\t\t{\n\t\t\t\tclasses.push('--disabled');\n\t\t\t}\n\n\t\t\tif (this.isLoading)\n\t\t\t{\n\t\t\t\tclasses.push('--loading');\n\t\t\t}\n\n\t\t\tif (this.isUppercase && this.size !== ButtonSize.S)\n\t\t\t{\n\t\t\t\tclasses.push('--uppercase');\n\t\t\t}\n\n\t\t\tif (this.text === '')\n\t\t\t{\n\t\t\t\tclasses.push('--no-text');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\ticonStyles()\n\t\t{\n\t\t\tconst result = {};\n\t\t\tif (this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tresult.backgroundColor = this.customColorScheme.iconColor;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t\ticonClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--${this.icon}`];\n\t\t\tif (this.hasCustomColorScheme)\n\t\t\t{\n\t\t\t\tclasses.push('--custom-color');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\thasCustomColorScheme(): boolean\n\t\t{\n\t\t\treturn Type.isPlainObject(this.customColorScheme)\n\t\t\t\t&& Type.isStringFilled(this.customColorScheme.borderColor)\n\t\t\t\t&& Type.isStringFilled(this.customColorScheme.iconColor)\n\t\t\t\t&& Type.isStringFilled(this.customColorScheme.textColor)\n\t\t\t\t&& Type.isStringFilled(this.customColorScheme.hoverColor);\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonClick(event: PointerEvent)\n\t\t{\n\t\t\tif (this.isDisabled || this.isLoading)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$emit('click', event);\n\t\t},\n\t},\n\ttemplate:\n\t`\n\t\t<button\n\t\t\t:class=\"buttonClasses\"\n\t\t\t:style=\"buttonStyles\"\n\t\t\t@click.stop=\"onClick\"\n\t\t\tclass=\"bx-im-button__scope bx-im-button__container\"\n\t\t>\n\t\t\t<span v-if=\"icon\" :style=\"iconStyles\" :class=\"iconClasses\" class=\"bx-im-button__icon\"></span>\n\t\t\t<span class=\"bx-im-button__text\">{{ text }}</span>\n\t\t</button>\n\t`,\n};\n","import { Popup, PopupManager, PopupOptions } from 'main.popup';\nimport { Type } from 'main.core';\n\nimport { Logger } from 'im.v2.lib.logger';\n\nconst POPUP_CONTAINER_PREFIX = '#popup-window-content-';\nconst POPUP_BORDER_RADIUS = '10px';\n\n// @vue/component\nexport const MessengerPopup = {\n\tname: 'MessengerPopup',\n\tprops:\n\t{\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault() {\n\t\t\t\treturn {};\n\t\t\t},\n\t\t},\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tpopupContainer(): string\n\t\t{\n\t\t\treturn `${POPUP_CONTAINER_PREFIX}${this.id}`;\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tLogger.warn(`Popup: ${this.id} created`);\n\t\tthis.instance = this.getPopupInstance();\n\t\tthis.instance.show();\n\t},\n\tmounted()\n\t{\n\t\tthis.instance.adjustPosition({\n\t\t\tforceBindPosition: true,\n\t\t\tposition: this.getPopupConfig().bindOptions.position\n\t\t});\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (!this.instance)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.closePopup();\n\t},\n\tmethods:\n\t{\n\t\tgetPopupInstance(): Popup\n\t\t{\n\t\t\tif (!this.instance)\n\t\t\t{\n\t\t\t\tPopupManager.getPopupById(this.id)?.destroy();\n\n\t\t\t\tthis.instance = new Popup(this.getPopupConfig());\n\t\t\t}\n\n\t\t\treturn this.instance;\n\t\t},\n\t\tgetDefaultConfig(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\tid: this.id,\n\t\t\t\tbindOptions: {\n\t\t\t\t\tposition: 'bottom',\n\t\t\t\t},\n\t\t\t\toffsetTop: 0,\n\t\t\t\toffsetLeft: 0,\n\t\t\t\tclassName: 'bx-im-messenger__scope',\n\t\t\t\tcacheable: false,\n\t\t\t\tcloseIcon: false,\n\t\t\t\tautoHide: true,\n\t\t\t\tcloseByEsc: true,\n\t\t\t\tanimation: 'fading',\n\t\t\t\tevents: {\n\t\t\t\t\tonPopupClose: this.closePopup.bind(this),\n\t\t\t\t\tonPopupDestroy: this.closePopup.bind(this),\n\t\t\t\t},\n\t\t\t\tcontentBorderRadius: POPUP_BORDER_RADIUS,\n\t\t\t};\n\t\t},\n\t\tgetPopupConfig(): Object\n\t\t{\n\t\t\tconst defaultConfig = this.getDefaultConfig();\n\t\t\tconst modifiedOptions = {};\n\n\t\t\tconst defaultClassName = defaultConfig.className;\n\t\t\tif (this.config.className)\n\t\t\t{\n\t\t\t\tmodifiedOptions.className = `${defaultClassName} ${this.config.className}`;\n\t\t\t}\n\n\t\t\tconst offsetTop = this.config.offsetTop ?? defaultConfig.offsetTop;\n\t\t\t// adjust for default popup margin for shadow\n\t\t\tif (this.config.bindOptions?.position === 'top' && Type.isNumber(this.config.offsetTop))\n\t\t\t{\n\t\t\t\tmodifiedOptions.offsetTop = offsetTop - 10;\n\t\t\t}\n\n\t\t\treturn { ...defaultConfig, ...this.config, ...modifiedOptions };\n\t\t},\n\t\tclosePopup()\n\t\t{\n\t\t\tLogger.warn(`Popup: ${this.id} closing`);\n\t\t\tthis.$emit('close');\n\t\t\tthis.instance.destroy();\n\t\t\tthis.instance = null;\n\t\t},\n\t\tenableAutoHide()\n\t\t{\n\t\t\tthis.getPopupInstance().setAutoHide(true);\n\t\t},\n\t\tdisableAutoHide()\n\t\t{\n\t\t\tthis.getPopupInstance().setAutoHide(false);\n\t\t},\n\t\tadjustPosition()\n\t\t{\n\t\t\tthis.getPopupInstance().adjustPosition({\n\t\t\t\tforceBindPosition: true,\n\t\t\t\tposition: this.getPopupConfig().bindOptions.position\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Teleport :to=\"popupContainer\">\n\t\t\t<slot\n\t\t\t\t:adjustPosition=\"adjustPosition\"\n\t\t\t\t:enableAutoHide=\"enableAutoHide\"\n\t\t\t\t:disableAutoHide=\"disableAutoHide\"\n\t\t\t></slot>\n\t\t</Teleport>\n\t`,\n};\n","import './css/menu-item.css';\n\nexport const MenuItemIcon = {\n\tchat: 'chat',\n\tchannel: 'channel',\n\tcollab: 'collab',\n\tconference: 'conference',\n\tupload: 'upload',\n\tfile: 'file',\n\ttask: 'task',\n\tmeeting: 'meeting',\n\tsummary: 'summary',\n\tvote: 'vote',\n\taiText: 'ai-text',\n\taiImage: 'ai-image',\n\tcopilot: 'copilot',\n\tcalendarSlot: 'calendar-slot',\n\tdocumentSign: 'document-sign',\n\tb24: 'b24',\n};\n\n// @vue/component\nexport const MenuItem = {\n\tname: 'MenuItem',\n\tprops:\n\t{\n\t\ticon: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tsubtitle: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\tdisabled: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tcounter: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tformattedCounter(): string\n\t\t{\n\t\t\tif (this.counter === 0)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn this.counter > 99 ? '99+' : String(this.counter);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-menu-item__container\" :class=\"{'--disabled': disabled}\">\n\t\t\t<div class=\"bx-im-menu-item__content\" :class=\"{'--with-icon': !!icon}\">\n\t\t\t\t<div v-if=\"icon\" class=\"bx-im-menu_item__icon\" :class=\"'--' + icon\"></div>\n\t\t\t\t<div class=\"bx-im-menu-item__text-content\" :class=\"{'--with-subtitle': !!subtitle}\">\n\t\t\t\t\t<div class=\"bx-im-menu-item__title\">\n\t\t\t\t\t\t<div class=\"bx-im-menu-item__title_text\">{{ title }}</div>\n\t\t\t\t\t\t<slot name=\"after-title\"></slot>\n\t\t\t\t\t\t<div v-if=\"counter\" class=\"bx-im-menu-item__title_counter\">{{ formattedCounter }}</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div v-if=\"subtitle\" :title=\"subtitle\" class=\"bx-im-menu-item__subtitle\">{{ subtitle }}</div>\n\t\t\t\t\t<slot name=\"below-content\"></slot>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<slot name=\"after-content\"></slot>\n\t\t</div>\n\t`,\n};\n","import {Utils} from 'im.v2.lib.utils';\n\nimport {MessengerPopup} from '../popup/popup';\nimport './css/menu.css';\n\nexport {MenuItem, MenuItemIcon} from './menu-item';\n\nconst ID_PREFIX = 'im-v2-menu';\n\n// @vue/component\nexport const MessengerMenu = {\n\tname: 'MessengerMenu',\n\tcomponents: {MessengerPopup},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tclassName: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: ''\n\t\t}\n\t},\n\temits: ['close'],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tid: ''\n\t\t};\n\t},\n\tcreated()\n\t{\n\t\tthis.id = this.config.id ?? `${ID_PREFIX}-${Utils.text.getUuidV4()}`;\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"id\"\n\t\t>\n\t\t\t<div class=\"bx-im-menu__container\" :class=\"className\">\n\t\t\t\t<slot name=\"header\"></slot>\n\t\t\t\t<slot></slot>\n\t\t\t\t<slot name=\"footer\"></slot>\n\t\t\t</div>\n\t\t</MessengerPopup>\n\t`\n};","import './delimiter.css';\n\nimport type { AttachDelimiterConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachDelimiter = {\n\tname: 'AttachDelimiter',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachDelimiterConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tstyles(): Object\n\t\t{\n\t\t\tconst result = {};\n\n\t\t\tif (this.internalConfig.delimiter.color)\n\t\t\t{\n\t\t\t\tresult.backgroundColor = this.internalConfig.delimiter.color;\n\t\t\t}\n\n\t\t\tif (this.internalConfig.delimiter.size > 0)\n\t\t\t{\n\t\t\t\tresult.width = `${this.internalConfig.delimiter.size}px`;\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-delimiter__container\" :style=\"styles\"></div>\n\t`,\n};\n","import { Type } from 'main.core';\nimport 'ui.icons.disk';\n\nimport { Utils } from 'im.v2.lib.utils';\n\nimport './file.css';\n\nimport type { AttachFileItemConfig } from 'im.v2.const';\n\nexport const AttachFileItem = {\n\tname: 'AttachFileItem',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachFileItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tfileName(): ?string\n\t\t{\n\t\t\treturn this.internalConfig.name;\n\t\t},\n\t\tfileSize(): ?number\n\t\t{\n\t\t\treturn this.internalConfig.size;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.link;\n\t\t},\n\t\tfileShortName(): string\n\t\t{\n\t\t\tconst NAME_MAX_LENGTH = 70;\n\n\t\t\tconst fileName: string = Type.isStringFilled(this.fileName)\n\t\t\t\t? this.fileName\n\t\t\t\t: this.$Bitrix.Loc.getMessage('IM_ELEMENTS_ATTACH_RICH_FILE_NO_NAME')\n\t\t\t;\n\n\t\t\treturn Utils.file.getShortFileName(fileName, NAME_MAX_LENGTH);\n\t\t},\n\t\tformattedFileSize(): string\n\t\t{\n\t\t\tif (!this.fileSize)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn Utils.file.formatFileSize(this.fileSize);\n\t\t},\n\t\ticonClasses()\n\t\t{\n\t\t\treturn ['ui-icon', `ui-icon-file-${this.fileIcon}`];\n\t\t},\n\t\tfileIcon(): string\n\t\t{\n\t\t\treturn Utils.file.getIconTypeByFilename(this.fileName);\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\topenLink()\n\t\t{\n\t\t\tif (!this.link)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twindow.open(this.link, '_blank');\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div @click=\"openLink\" class=\"bx-im-attach-file__container\">\n\t\t\t<div class=\"bx-im-attach-file__item\">\n\t\t\t\t<div class=\"bx-im-attach-file__icon\">\n\t\t\t\t\t<div :class=\"iconClasses\"><i></i></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-attach-file__block\">\n\t\t\t\t\t<div class=\"bx-im-attach-file__name\" :title=\"fileName\">\n\t\t\t\t\t\t{{ fileShortName }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-attach-file__size\">\n\t\t\t\t\t\t{{ formattedFileSize }}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { AttachFileItem } from './file-item';\n\nimport 'ui.icons.disk';\nimport './file.css';\n\nimport type { AttachFileConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachFile = {\n\tname: 'AttachFile',\n\tcomponents: { AttachFileItem },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachFileConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-file__container\">\n\t\t\t<AttachFileItem\n\t\t\t\tv-for=\"(fileItem, index) in internalConfig.file\"\n\t\t\t\t:config=\"fileItem\"\n\t\t\t\t:key=\"index\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { Parser } from 'im.v2.lib.parser';\n\nimport type { AttachGridItemConfig } from 'im.v2.const';\n\nexport const AttachGridItemDisplayType = {\n\tblock: 'block',\n\tline: 'line',\n\trow: 'row',\n};\nconst DisplayType = AttachGridItemDisplayType;\n\n// @vue/component\nexport const AttachGridItem = {\n\tname: 'AttachGridItem',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tDisplayType: () => DisplayType,\n\t\tinternalConfig(): AttachGridItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tdisplay(): $Values<typeof DisplayType>\n\t\t{\n\t\t\treturn this.internalConfig.display.toLowerCase();\n\t\t},\n\t\twidth(): string\n\t\t{\n\t\t\tif (!this.value || !this.internalConfig.width)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn `${this.internalConfig.width}px`;\n\t\t},\n\t\tvalue(): string\n\t\t{\n\t\t\tif (!this.internalConfig.value)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn Parser.decodeText(this.internalConfig.value);\n\t\t},\n\t\tcolorToken(): string\n\t\t{\n\t\t\treturn this.internalConfig.colorToken || 'base';\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.name;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.link;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div v-if=\"display === DisplayType.block\" :style=\"{width}\" class=\"bx-im-attach-grid__item --block\">\n\t\t\t<div class=\"bx-im-attach-grid__name\">{{ name }}</div>\n\t\t\t<div v-if=\"link\" class=\"bx-im-attach-grid__value --link\">\n\t\t\t\t<a :href=\"link\" target=\"_blank\" :class=\"colorToken\" v-html=\"value\"></a>\n\t\t\t</div>\n\t\t\t<div v-else v-html=\"value\" :class=\"colorToken\" class=\"bx-im-attach-grid__value\"></div>\n\t\t</div>\n\t\t<div v-if=\"display === DisplayType.line\" :style=\"{width}\" class=\"bx-im-attach-grid__item --line\">\n\t\t\t<div class=\"bx-im-attach-grid__name\">{{ name }}</div>\n\t\t\t<div v-if=\"link\" :class=\"colorToken\" class=\"bx-im-attach-grid__value --link\">\n\t\t\t\t<a :href=\"link\" target=\"_blank\" v-html=\"value\"></a>\n\t\t\t</div>\n\t\t\t<div v-else class=\"bx-im-attach-grid__value\" :class=\"colorToken\" v-html=\"value\"></div>\n\t\t</div>\n\t\t<div v-if=\"display === DisplayType.row\" class=\"bx-im-attach-grid__item --row\">\n\t\t\t<table>\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td v-if=\"name\" :colspan=\"value? 1: 2\" :style=\"{width}\" class=\"bx-im-attach-grid__name\">\n\t\t\t\t\t\t\t{{ name }}\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tv-if=\"value && link\"\n\t\t\t\t\t\t\t:colspan=\"name? 1: 2\"\n\t\t\t\t\t\t\t:class=\"colorToken\"\n\t\t\t\t\t\t\tclass=\"bx-im-attach-grid__value --link\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<a :href=\"link\" target=\"_blank\" v-html=\"value\"></a>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td\n\t\t\t\t\t\t\tv-if=\"value && !link\"\n\t\t\t\t\t\t\t:colspan=\"name? 1: 2\"\n\t\t\t\t\t\t\t:class=\"colorToken\"\n\t\t\t\t\t\t\tv-html=\"value\"\n\t\t\t\t\t\t\tclass=\"bx-im-attach-grid__value\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\t\t</div>\n\t`,\n};\n","import { AttachGridItem } from './grid-item';\n\nimport './grid.css';\n\nimport type { AttachGridConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachGrid = {\n\tname: 'AttachGrid',\n\tcomponents: { AttachGridItem },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachGridConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-grid__container\">\n\t\t\t<AttachGridItem\n\t\t\t\tv-for=\"(gridItem, index) in internalConfig.grid\"\n\t\t\t\t:config=\"gridItem\"\n\t\t\t\t:key=\"index\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import './html.css';\nimport { Parser } from 'im.v2.lib.parser';\n\nimport type { AttachHtmlConfig } from 'im.v2.const';\n\nexport const AttachHtml = {\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachHtmlConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\thtml(): string\n\t\t{\n\t\t\treturn Parser.decodeHtml(this.internalConfig.html);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-element-attach-type-html\" v-html=\"html\"></div>\n\t`,\n};\n","import { Dom } from 'main.core';\nimport { lazyload } from 'ui.vue3.directives.lazyload';\n\nimport { Utils } from 'im.v2.lib.utils';\n\nimport type { JsonObject } from 'main.core';\nimport type { AttachImageItemConfig } from 'im.v2.const';\n\nconst MAX_IMAGE_SIZE = 272;\n\n// @vue/component\nexport const AttachImageItem = {\n\tname: 'AttachImageItem',\n\tdirectives: { lazyload },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachImageItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\twidth(): number\n\t\t{\n\t\t\treturn this.internalConfig.width || 0;\n\t\t},\n\t\theight(): number\n\t\t{\n\t\t\treturn this.internalConfig.height || 0;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.link;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.name;\n\t\t},\n\t\tpreview(): string\n\t\t{\n\t\t\treturn this.internalConfig.preview;\n\t\t},\n\t\tsource(): string\n\t\t{\n\t\t\treturn this.preview ?? this.link;\n\t\t},\n\t\timageSize(): JsonObject\n\t\t{\n\t\t\tif (this.width === 0 || this.height === 0)\n\t\t\t{\n\t\t\t\treturn {};\n\t\t\t}\n\n\t\t\tconst sizes = Utils.file.resizeToFitMaxSize(this.width, this.height, MAX_IMAGE_SIZE);\n\n\t\t\treturn {\n\t\t\t\twidth: `${sizes.width}px`,\n\t\t\t\theight: `${sizes.height}px`,\n\t\t\t\t'object-fit': (sizes.width < 100 || sizes.height < 100) ? 'cover' : 'contain',\n\t\t\t};\n\t\t},\n\t\thasWidth(): boolean\n\t\t{\n\t\t\treturn Boolean(this.imageSize.width);\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\topen()\n\t\t{\n\t\t\tif (!this.link)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twindow.open(this.link, '_blank');\n\t\t},\n\t\tlazyLoadCallback(event: {element: HTMLElement, state: string})\n\t\t{\n\t\t\tconst { element } = event;\n\t\t\tif (!Dom.style(element, 'width'))\n\t\t\t{\n\t\t\t\tDom.style(element, 'width', `${element.offsetWidth}px`);\n\t\t\t}\n\n\t\t\tif (!Dom.style(element, 'height'))\n\t\t\t{\n\t\t\t\tDom.style(element, 'height', `${element.offsetHeight}px`);\n\t\t\t}\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-image__item\" :class=\"{'--with-width': hasWidth }\" @click=\"open\">\n\t\t\t<img\n\t\t\t\tv-lazyload=\"{callback: lazyLoadCallback}\"\n\t\t\t\t:data-lazyload-src=\"source\"\n\t\t\t\t:style=\"imageSize\"\n\t\t\t\t:title=\"name\"\n\t\t\t\t:alt=\"name\"\n\t\t\t\tclass=\"bx-im-attach-image__source\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { AttachImageItem } from './image-item';\n\nimport './image.css';\n\nimport type { AttachImageConfig } from 'im.v2.const';\n\nexport const AttachImage = {\n\tname: 'AttachImage',\n\tcomponents: { AttachImageItem },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachImageConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-image__container bx-im-attach-image__scope\">\n\t\t\t<AttachImageItem v-for=\"(image, index) in internalConfig.image\" :config=\"image\" :key=\"index\" />\n\t\t</div>\n\t`,\n};\n","import { Parser } from 'im.v2.lib.parser';\n\nimport { AttachImage } from '../image/image';\n\nimport type { AttachLinkItemConfig, AttachImageConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachLinkItem = {\n\tname: 'AttachLinkItem',\n\tcomponents: { AttachImage },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachLinkItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.link;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.name ?? this.link;\n\t\t},\n\t\tdescription(): string\n\t\t{\n\t\t\treturn this.internalConfig.desc;\n\t\t},\n\t\thtml(): string\n\t\t{\n\t\t\tconst content = this.internalConfig.html || this.description;\n\n\t\t\treturn Parser.decodeText(content);\n\t\t},\n\t\tpreview(): string\n\t\t{\n\t\t\treturn this.internalConfig.preview;\n\t\t},\n\t\timageConfig(): AttachImageConfig\n\t\t{\n\t\t\treturn {\n\t\t\t\timage: [{\n\t\t\t\t\tname: this.internalConfig.name,\n\t\t\t\t\tpreview: this.internalConfig.preview,\n\t\t\t\t\twidth: this.internalConfig.width,\n\t\t\t\t\theight: this.internalConfig.height,\n\t\t\t\t}],\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-link__item\">\n\t\t\t<a v-if=\"link\" :href=\"link\" target=\"_blank\" class=\"bx-im-attach-link__link\">\n\t\t\t\t{{ name }}\n\t\t\t</a>\n\t\t\t<span v-else class=\"bx-im-attach-link__name\">\n\t\t\t\t{{ name }}\n\t\t\t</span>\n\t\t\t<div v-if=\"internalConfig.html || description\" class=\"bx-im-attach-link__desc\" v-html=\"html\"></div>\n\t\t\t<div v-if=\"preview\" class=\"bx-im-attach-link__image\">\n\t\t\t\t<AttachImage :config=\"imageConfig\" />\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { AttachLinkItem } from './link-item';\n\nimport './link.css';\n\nimport type { AttachLinkConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachLink = {\n\tname: 'AttachLink',\n\tcomponents: { AttachLinkItem },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachLinkConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-link__container\">\n\t\t\t<AttachLinkItem v-for=\"(link, index) in internalConfig.link\" :config=\"link\" :key=\"index\" />\n\t\t</div>\n\t`,\n};\n","import { Parser } from 'im.v2.lib.parser';\n\nimport './message.css';\n\nimport type { AttachMessageConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachMessage = {\n\tname: 'AttachMessage',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachMessageConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tmessage(): string\n\t\t{\n\t\t\treturn Parser.decodeText(this.internalConfig.message);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-message__container\" v-html=\"message\"></div>\n\t`,\n};\n","import { RestClient } from 'rest.client';\n\nimport { Core } from 'im.v2.application.core';\nimport { RestMethod } from 'im.v2.const';\n\nimport type { ImModelMessage } from 'im.v2.model';\nimport type { Store } from 'ui.vue3.vuex';\n\nexport class RichService\n{\n\t#restClient: RestClient;\n\t#store: Store;\n\t#message: ImModelMessage;\n\n\tconstructor(message: ImModelMessage)\n\t{\n\t\tthis.#restClient = Core.getRestClient();\n\t\tthis.#store = Core.getStore();\n\t\tthis.#message = message;\n\t}\n\n\tdeleteRichLink(attachId: string): void\n\t{\n\t\tvoid this.#store.dispatch('messages/deleteAttach', {\n\t\t\tmessageId: this.#message.id,\n\t\t\tattachId,\n\t\t});\n\n\t\tthis.#restClient.callMethod(RestMethod.imV2ChatMessageDeleteRichUrl, {\n\t\t\tmessageId: this.#message.id,\n\t\t}).catch((result: RestResult) => {\n\t\t\tconsole.error('RichService: error deleting rich link', result.error);\n\t\t});\n\t}\n}\n","import { Core } from 'im.v2.application.core';\nimport { Utils } from 'im.v2.lib.utils';\n\nimport { AttachImage } from '../image/image';\nimport { RichService } from './rich-service';\n\nimport type { AttachRichItemConfig, AttachImageConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachRichItem = {\n\tname: 'AttachRichItem',\n\tcomponents: { AttachImage },\n\tinject: ['message'],\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t\tattachId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachRichItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.link;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn Utils.text.convertHtmlEntities(this.internalConfig.name);\n\t\t},\n\t\tdescription(): string\n\t\t{\n\t\t\treturn Utils.text.convertHtmlEntities(this.internalConfig.desc);\n\t\t},\n\t\thtml(): string\n\t\t{\n\t\t\treturn this.internalConfig.html;\n\t\t},\n\t\tpreview(): string\n\t\t{\n\t\t\treturn this.internalConfig.preview;\n\t\t},\n\t\tpreviewSize(): {width: number, height: number}\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: this.internalConfig.previewSize?.width ?? 0,\n\t\t\t\theight: this.internalConfig.previewSize?.height ?? 0,\n\t\t\t};\n\t\t},\n\t\timageConfig(): AttachImageConfig\n\t\t{\n\t\t\treturn {\n\t\t\t\timage: [{\n\t\t\t\t\tname: this.name,\n\t\t\t\t\tpreview: this.preview,\n\t\t\t\t\twidth: this.previewSize.width,\n\t\t\t\t\theight: this.previewSize.height,\n\t\t\t\t}],\n\t\t\t};\n\t\t},\n\t\tcanShowDeleteIcon(): boolean\n\t\t{\n\t\t\tif (!this.message)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn this.message.authorId === Core.getUserId();\n\t\t},\n\t\tdeleteRichLinkTitle(): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage('IM_ELEMENTS_ATTACH_RICH_LINK_DELETE');\n\t\t},\n\t\timageStyles()\n\t\t{\n\t\t\tif (this.previewSize.width === 0 || this.previewSize.height === 0)\n\t\t\t{\n\t\t\t\treturn {\n\t\t\t\t\twidth: '272px',\n\t\t\t\t\theight: '272px',\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn {};\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\topenLink()\n\t\t{\n\t\t\tif (!this.link)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\twindow.open(this.link, '_blank');\n\t\t},\n\t\tdeleteRichLink()\n\t\t{\n\t\t\tif (!this.message)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t(new RichService(this.message)).deleteRichLink(this.attachId);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-rich__scope bx-im-attach-rich__container\">\n\t\t\t<div class=\"bx-im-attach-rich__block\">\n\t\t\t\t<div class=\"bx-im-attach-rich__name\" @click=\"openLink\">{{ name }}</div>\n\t\t\t\t<div v-if=\"html || description\" class=\"bx-im-attach-rich__desc\">{{ html || description }}</div>\n\t\t\t\t<button \n\t\t\t\t\tv-if=\"canShowDeleteIcon\" \n\t\t\t\t\tclass=\"bx-im-attach-rich__hide-icon\"\n\t\t\t\t\t@click=\"deleteRichLink\"\n\t\t\t\t\t:title=\"deleteRichLinkTitle\"\n\t\t\t\t></button>\n\t\t\t</div>\n\t\t\t<div v-if=\"preview\" class=\"bx-im-attach-rich__image\" @click=\"openLink\" :style=\"imageStyles\">\n\t\t\t\t<AttachImage :config=\"imageConfig\" />\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { AttachRichItem } from './rich-item';\n\nimport './rich.css';\n\nimport type { AttachRichConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachRich = {\n\tcomponents: { AttachRichItem },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t\tattachId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachRichConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-rich__container\">\n\t\t\t<AttachRichItem \n\t\t\t\tv-for=\"(rich, index) in internalConfig.richLink\" \n\t\t\t\t:config=\"rich\"\n\t\t\t\t:key=\"index\" \n\t\t\t\t:attachId=\"attachId\" \n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { lazyload } from 'ui.vue3.directives.lazyload';\nimport type { AttachUserItemConfig } from 'im.v2.const';\n\nconst AVATAR_TYPE = {\n\tuser: 'user',\n\tchat: 'chat',\n\tbot: 'bot',\n};\n\n// @vue/component\nexport const AttachUserItem = {\n\tname: 'AttachUserItem',\n\tdirectives: { lazyload },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachUserItemConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tname(): string\n\t\t{\n\t\t\treturn this.internalConfig.name;\n\t\t},\n\t\tavatar(): string\n\t\t{\n\t\t\treturn this.internalConfig.avatar;\n\t\t},\n\t\tavatarType(): string\n\t\t{\n\t\t\treturn this.internalConfig.avatarType;\n\t\t},\n\t\tlink(): string\n\t\t{\n\t\t\treturn this.internalConfig.link;\n\t\t},\n\t\tavatarTypeClass(): string[] | string\n\t\t{\n\t\t\tif (this.avatar)\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\tlet avatarType = AVATAR_TYPE.user;\n\n\t\t\tif (this.avatarType === AVATAR_TYPE.chat)\n\t\t\t{\n\t\t\t\tavatarType = AVATAR_TYPE.chat;\n\t\t\t}\n\t\t\telse if (this.avatarType === AVATAR_TYPE.bot)\n\t\t\t{\n\t\t\t\tavatarType = AVATAR_TYPE.bot;\n\t\t\t}\n\n\t\t\treturn [`--${avatarType}`, 'base'];\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-user__item\">\n\t\t\t<div class=\"bx-im-attach-user__avatar\" :class=\"avatarTypeClass\">\n\t\t\t\t<img v-if=\"avatar\" v-lazyload :data-lazyload-src=\"avatar\" class=\"bx-im-attach-user__source\" alt=\"name\" />\n\t\t\t</div>\n\t\t\t<a v-if=\"link\" :href=\"link\" class=\"bx-im-attach-user__name\" target=\"_blank\">\n\t\t\t\t{{ name }}\n\t\t\t</a>\n\t\t\t<span class=\"bx-im-attach-user__name\" v-else>\n\t\t\t\t{{ name }}\n\t\t\t</span>\n\t\t</div>\n\t`,\n};\n","import { AttachUserItem } from './user-item';\n\nimport './user.css';\n\nimport type { AttachUserConfig } from 'im.v2.const';\n\n// @vue/component\nexport const AttachUser = {\n\tname: 'AttachUser',\n\tcomponents: { AttachUserItem },\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachUserConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach-user__container\">\n\t\t\t<AttachUserItem v-for=\"(user, index) in internalConfig.user\" :config=\"user\" :key=\"index\" />\n\t\t</div>\n\t`,\n};\n","import { AttachType, ColorToken } from 'im.v2.const';\n\nimport { AttachDelimiter } from './components/delimiter/delimiter';\nimport { AttachFile } from './components/file/file';\nimport { AttachGrid } from './components/grid/grid';\nimport { AttachHtml } from './components/html/html';\nimport { AttachImage } from './components/image/image';\nimport { AttachLink } from './components/link/link';\nimport { AttachMessage } from './components/message/message';\nimport { AttachRich } from './components/rich/rich';\nimport { AttachUser } from './components/user/user';\n\nimport './attach.css';\n\nimport type { AttachConfig, AttachConfigBlock } from 'im.v2.const';\n\nconst PropertyToComponentMap = {\n\t[AttachType.Delimiter]: AttachDelimiter,\n\t[AttachType.File]: AttachFile,\n\t[AttachType.Grid]: AttachGrid,\n\t[AttachType.Html]: AttachHtml,\n\t[AttachType.Image]: AttachImage,\n\t[AttachType.Link]: AttachLink,\n\t[AttachType.Message]: AttachMessage,\n\t[AttachType.Rich]: AttachRich,\n\t[AttachType.User]: AttachUser,\n};\n\n// @vue/component\nexport const Attach = {\n\tname: 'MessengerAttach',\n\tcomponents: {\n\t\tAttachDelimiter,\n\t\tAttachFile,\n\t\tAttachGrid,\n\t\tAttachHtml,\n\t\tAttachImage,\n\t\tAttachLink,\n\t\tAttachMessage,\n\t\tAttachRich,\n\t\tAttachUser,\n\t},\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tinternalConfig(): AttachConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tblocks(): AttachConfigBlock[]\n\t\t{\n\t\t\treturn this.internalConfig.blocks;\n\t\t},\n\t\tcolorToken(): string\n\t\t{\n\t\t\tconst { colorToken = ColorToken.base } = this.internalConfig;\n\n\t\t\treturn colorToken;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tgetComponentForBlock(block: AttachConfigBlock)\n\t\t{\n\t\t\tconst [blockType] = Object.keys(block);\n\t\t\tif (!PropertyToComponentMap[blockType])\n\t\t\t{\n\t\t\t\treturn '';\n\t\t\t}\n\n\t\t\treturn PropertyToComponentMap[blockType];\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-attach__container bx-im-attach__scope\">\n\t\t\t<div class=\"bx-im-attach__border\" :class=\"colorToken\"></div>\n\t\t\t<div class=\"bx-im-attach__content\">\n\t\t\t\t<component\n\t\t\t\t\tv-for=\"(block, index) in blocks\"\n\t\t\t\t\t:is=\"getComponentForBlock(block)\"\n\t\t\t\t\t:config=\"block\"\n\t\t\t\t\t:colorToken=\"colorToken\"\n\t\t\t\t\t:key=\"index\"\n\t\t\t\t\t:attachId=\"internalConfig.id.toString()\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Messenger } from 'im.public';\nimport { ChatService } from 'im.v2.provider.service';\nimport { ChatType, UserType } from 'im.v2.const';\nimport { Utils } from 'im.v2.lib.utils';\n\nimport { ChatAvatar, ChatTitle, Button, ButtonColor, ButtonSize } from '../registry';\n\nimport './chat-info-content.css';\n\n// @vue/component\nexport const ChatInfoContent = {\n\tcomponents: { ChatAvatar, ChatTitle, Button },\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata()\n\t{\n\t\treturn {\n\t\t\thasError: false,\n\t\t\tisLoading: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tButtonColor: () => ButtonColor,\n\t\tButtonSize: () => ButtonSize,\n\t\tdialog(): ?Object\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId);\n\t\t},\n\t\tuser()\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.dialogId, true);\n\t\t},\n\t\tisUser()\n\t\t{\n\t\t\treturn this.dialog?.type === ChatType.user;\n\t\t},\n\t\tisBot(): boolean\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.user.type === UserType.bot;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t},\n\t\tisChat()\n\t\t{\n\t\t\treturn !this.isUser;\n\t\t},\n\t\tchatType(): string\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.$store.getters['users/getPosition'](this.dialogId);\n\t\t\t}\n\n\t\t\treturn this.$Bitrix.Loc.getMessage('IM_LIST_RECENT_CHAT_TYPE_GROUP_V2');\n\t\t},\n\t\topenChatButtonText()\n\t\t{\n\t\t\tif (this.isChat)\n\t\t\t{\n\t\t\t\treturn this.$Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_OPEN_CHAT');\n\t\t\t}\n\n\t\t\treturn this.$Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_WRITE_A_MESSAGE');\n\t\t},\n\t\tuserProfileLink(): string\n\t\t{\n\t\t\treturn Utils.user.getProfileLink(this.dialogId);\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.chatService = new ChatService();\n\t\tif (!this.dialog)\n\t\t{\n\t\t\tthis.loadChat();\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tloadChat()\n\t\t{\n\t\t\tthis.isLoading = true;\n\t\t\tthis.chatService.loadChat(this.dialogId).then(() => {\n\t\t\t\tthis.isLoading = false;\n\t\t\t}).catch((error) => {\n\t\t\t\tthis.isLoading = false;\n\t\t\t\tthis.hasError = true;\n\t\t\t\tconsole.error(error);\n\t\t\t});\n\t\t},\n\t\tonOpenChat()\n\t\t{\n\t\t\tMessenger.openChat(this.dialogId);\n\t\t},\n\t\tonClickVideoCall()\n\t\t{\n\t\t\tMessenger.startVideoCall(this.dialogId);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-chat-info-content__container\">\n\t\t\t<template v-if=\"!isLoading && !hasError\">\n\t\t\t\t<div class=\"bx-im-chat-info-content__detail-info-container\">\n\t\t\t\t\t<div class=\"bx-im-chat-info-content__avatar-container\">\n\t\t\t\t\t\t<ChatAvatar :avatarDialogId=\"dialogId\" :contextDialogId=\"dialogId\" size=\"XL\"/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-chat-info-content__title-container\">\n\t\t\t\t\t\t<ChatTitle v-if=\"isChat\" :dialogId=\"dialogId\" />\n\t\t\t\t\t\t<a v-else :href=\"userProfileLink\" target=\"_blank\">\n\t\t\t\t\t\t\t<ChatTitle :dialogId=\"dialogId\" />\n\t\t\t\t\t\t</a>\n\t\t\t\t\t\t<div class=\"bx-im-chat-info-content__chat-description_text\">\n\t\t\t\t\t\t\t{{ chatType }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-chat-info-content__buttons-container\">\n\t\t\t\t\t<Button\n\t\t\t\t\t\t:size=\"ButtonSize.M\"\n\t\t\t\t\t\t:color=\"ButtonColor.PrimaryBorder\"\n\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t:text=\"openChatButtonText\"\n\t\t\t\t\t\t:isUppercase=\"false\"\n\t\t\t\t\t\t@click=\"onOpenChat\"\n\t\t\t\t\t/>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tv-if=\"isUser && !isBot\"\n\t\t\t\t\t\t:size=\"ButtonSize.M\"\n\t\t\t\t\t\t:color=\"ButtonColor.PrimaryBorder\"\n\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t:isUppercase=\"false\"\n\t\t\t\t\t\t:text=\"$Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_VIDEOCALL')\"\n\t\t\t\t\t\t@click=\"onClickVideoCall\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"isLoading\">\n\t\t\t\t<div class=\"bx-im-chat-info-content__loader-container\">\n\t\t\t\t\t<div class=\"bx-im-chat-info-content__loader_icon\"></div>\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t\t<template v-else-if=\"hasError\">\n\t\t\t\t<div class=\"bx-im-chat-info-content__error-container\">\n\t\t\t\t\t{{ $Bitrix.Loc.getMessage('IM_ELEMENTS_CHAT_INFO_POPUP_NO_ACCESS') }}\n\t\t\t\t</div>\n\t\t\t</template>\n\t\t</div>\n\t`,\n};\n","import {ChatInfoContent} from './chat-info-content';\nimport {MessengerPopup} from '../popup/popup';\n\nconst POPUP_ID = 'im-chat-info-popup';\n\n// @vue/component\nexport const ChatInfoPopup = {\n\tname: 'ChatInfoPopup',\n\tcomponents: {MessengerPopup, ChatInfoContent},\n\tprops:\n\t{\n\t\tshowPopup: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true\n\t\t},\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true\n\t\t}\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig()\n\t\t{\n\t\t\treturn {\n\t\t\t\tminWidth: 313,\n\t\t\t\theight: 134,\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\toffsetTop: 0,\n\t\t\t\tpadding: 16,\n\t\t\t\tangle: true\n\t\t\t};\n\t\t}\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\tv-if=\"showPopup\" \n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t>\n\t\t\t<ChatInfoContent :dialogId=\"dialogId\"/>\n\t\t</MessengerPopup>\n\t`\n};","import { Core } from 'im.v2.application.core';\nimport { RestMethod } from 'im.v2.const';\nimport { UserManager } from 'im.v2.lib.user';\n\nimport type { RestClient } from 'rest.client';\n\nexport class UserListService\n{\n\t#restClient: RestClient;\n\t#userManager: UserManager;\n\n\tconstructor()\n\t{\n\t\tthis.#restClient = Core.getRestClient();\n\t\tthis.#userManager = new UserManager();\n\t}\n\n\tasync loadUsers(userIds: number[]): Promise\n\t{\n\t\tconst result: RestResult = await this.#restClient.callMethod(RestMethod.imUserListGet, { ID: userIds })\n\t\t\t.catch((errorResult: RestResult) => {\n\t\t\t\tconsole.error('UserListService: loadUsers error', errorResult.error());\n\t\t\t});\n\n\t\treturn this.#userManager.setUsersToModel(Object.values(result.data()));\n\t}\n}","import { Loader as UILoader } from 'ui.loader';\nimport './loader.css';\n\nconst LOADER_SIZE = 'xs';\nconst LOADER_TYPE = 'BULLET';\n\n// @vue/component\nexport const Loader = {\n\tname: 'MessengerLoader',\n\tmounted()\n\t{\n\t\tthis.loader = new UILoader({\n\t\t\ttarget: this.$refs['messenger-loader'],\n\t\t\ttype: LOADER_TYPE,\n\t\t\tsize: LOADER_SIZE,\n\t\t});\n\t\tthis.loader.render();\n\t\tthis.loader.show();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.loader.hide();\n\t\tthis.loader = null;\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-elements-loader__container\" ref=\"messenger-loader\"></div>\n\t`,\n};\n","import { Messenger } from 'im.public';\nimport { ImModelUser } from 'im.v2.model';\n\nimport { ChatAvatar } from '../avatar/chat-avatar';\nimport { AvatarSize } from '../avatar/components/base/avatar';\nimport { ChatTitle } from '../chat-title/chat-title';\n\nimport './user-list-content.css';\n\n// @vue/component\nexport const UserItem = {\n\tname: 'UserItem',\n\tcomponents: { ChatAvatar, ChatTitle },\n\tprops: {\n\t\tuserId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tcontextDialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tAvatarSize: () => AvatarSize,\n\t\tuser(): ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](this.userId, true);\n\t\t},\n\t\tuserDialogId(): string\n\t\t{\n\t\t\treturn this.userId.toString();\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonUserClick()\n\t\t{\n\t\t\tvoid Messenger.openChat(this.userDialogId);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-user-list-content__user-container\" @click=\"onUserClick\">\n\t\t\t<div class=\"bx-im-user-list-content__avatar-container\">\n\t\t\t\t<ChatAvatar\n\t\t\t\t\t:avatarDialogId=\"userDialogId\"\n\t\t\t\t\t:contextDialogId=\"contextDialogId\"\n\t\t\t\t\t:size=\"AvatarSize.XS\"\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<ChatTitle \n\t\t\t\t:dialogId=\"userDialogId\" \n\t\t\t\t:showItsYou=\"false\" \n\t\t\t\tclass=\"bx-im-user-list-content__chat-title-container\" \n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { ImModelUser } from 'im.v2.model';\n\nimport { UserListService } from './classes/user-list-service';\n\nimport { Loader } from '../loader/loader';\nimport { UserItem } from './user-item';\n\nimport './user-list-content.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const UserListContent = {\n\tcomponents: { UserItem, Loader },\n\tprops: {\n\t\tuserIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tadjustPopupFunction: {\n\t\t\ttype: Function,\n\t\t\trequired: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tcontextDialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\thasError: false,\n\t\t\tisLoadingUsers: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tisLoading(): boolean\n\t\t{\n\t\t\treturn this.loading || this.isLoadingUsers;\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tuserIds()\n\t\t{\n\t\t\tthis.$nextTick(() => {\n\t\t\t\tthis.adjustPopupFunction();\n\t\t\t});\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tif (this.needUserRequest())\n\t\t{\n\t\t\tthis.requestUserData();\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tgetUserListService(): UserListService\n\t\t{\n\t\t\tif (!this.userListService)\n\t\t\t{\n\t\t\t\tthis.userListService = new UserListService();\n\t\t\t}\n\n\t\t\treturn this.userListService;\n\t\t},\n\t\tgetUser(userId): ?ImModelUser\n\t\t{\n\t\t\treturn this.$store.getters['users/get'](userId);\n\t\t},\n\t\tneedUserRequest(): boolean\n\t\t{\n\t\t\treturn this.userIds.some((userId) => !this.getUser(userId));\n\t\t},\n\t\tasync requestUserData()\n\t\t{\n\t\t\tthis.isLoadingUsers = true;\n\t\t\tawait this.getUserListService().loadUsers(this.userIds)\n\t\t\t\t.catch(() => {\n\t\t\t\t\tthis.hasError = true;\n\t\t\t\t});\n\n\t\t\tthis.isLoadingUsers = false;\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-user-list-content__container bx-im-user-list-content__scope\">\n\t\t\t<template v-if=\"!isLoading && !hasError\">\n\t\t\t\t<UserItem v-for=\"userId in userIds\" :userId=\"userId\" :contextDialogId=\"contextDialogId\" />\n\t\t\t</template>\n\t\t\t<div v-else-if=\"isLoading\" class=\"bx-im-user-list-content__loader-container\">\n\t\t\t\t<Loader />\n\t\t\t</div>\n\t\t\t<div v-else-if=\"hasError\">\n\t\t\t\t{{ loc('IM_ELEMENTS_CHAT_INFO_POPUP_NO_ACCESS') }}\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { UserListContent } from './user-list-content';\nimport { MessengerPopup } from '../popup/popup';\n\nimport type { PopupOptions } from 'main.popup';\n\nconst POPUP_ID = 'im-user-list-popup';\n\n// @vue/component\nexport const UserListPopup = {\n\tname: 'UserListPopup',\n\tcomponents: { MessengerPopup, UserListContent },\n\tprops:\n\t{\n\t\tshowPopup: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: POPUP_ID,\n\t\t},\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tuserIds: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tcontextDialogId: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\twithAngle: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: true,\n\t\t},\n\t\tloading: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\tforceTop: {\n\t\t\ttype: Boolean,\n\t\t\trequired: false,\n\t\t\tdefault: false,\n\t\t},\n\t\toffsetLeft: {\n\t\t\ttype: Number,\n\t\t\trequired: false,\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig(): PopupOptions\n\t\t{\n\t\t\tconst config = {\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\toffsetTop: 4,\n\t\t\t\toffsetLeft: this.offsetLeft,\n\t\t\t\tpadding: 0,\n\t\t\t\tangle: this.withAngle,\n\t\t\t};\n\n\t\t\tif (this.forceTop)\n\t\t\t{\n\t\t\t\tconfig.bindOptions = { position: 'top' };\n\t\t\t}\n\n\t\t\treturn config;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\tv-if=\"showPopup\"\n\t\t\tv-slot=\"{adjustPosition}\"\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"id\"\n\t\t>\n\t\t\t<UserListContent \n\t\t\t\t:userIds=\"userIds\"\n\t\t\t\t:contextDialogId=\"contextDialogId\"\n\t\t\t\t:loading=\"loading\" \n\t\t\t\t:adjustPopupFunction=\"adjustPosition\"\n\t\t\t/>\n\t\t</MessengerPopup>\n\t`,\n};\n","import { Text } from 'main.core';\n\nimport { Logger } from 'im.v2.lib.logger';\nimport { KeyboardButtonDisplay, ColorToken } from 'im.v2.const';\nimport { Utils } from 'im.v2.lib.utils';\n\nimport type { JsonObject } from 'main.core';\nimport type { KeyboardButtonConfig } from 'im.v2.const';\n\n// @vue/component\nexport const KeyboardButton = {\n\tname: 'KeyboardButton',\n\tprops:\n\t{\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tkeyboardBlocked: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['action', 'customCommand', 'blockKeyboard'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tbutton(): KeyboardButtonConfig\n\t\t{\n\t\t\treturn this.config;\n\t\t},\n\t\tbuttonClasses(): string[]\n\t\t{\n\t\t\tconst { bgColorToken = ColorToken.base, display, disabled, wait } = this.button;\n\t\t\tconst displayClass = display === KeyboardButtonDisplay.block ? '--block' : '--line';\n\t\t\tconst classes = [displayClass, bgColorToken];\n\t\t\tif (this.keyboardBlocked || disabled)\n\t\t\t{\n\t\t\t\tclasses.push('--disabled');\n\t\t\t}\n\n\t\t\tif (wait)\n\t\t\t{\n\t\t\t\tclasses.push('--loading');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t\tbuttonStyles(): { width?: string, backgroundColor?: string }\n\t\t{\n\t\t\tconst styles = {};\n\t\t\tconst { width } = this.button;\n\t\t\tif (width)\n\t\t\t{\n\t\t\t\tstyles.width = `${width}px`;\n\t\t\t}\n\n\t\t\treturn styles;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonClick()\n\t\t{\n\t\t\tif (this.keyboardBlocked || this.button.disabled || this.button.wait)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.button.action && this.button.actionValue)\n\t\t\t{\n\t\t\t\tthis.handleAction();\n\t\t\t}\n\t\t\telse if (this.button.appId)\n\t\t\t{\n\t\t\t\tLogger.warn('Messenger keyboard: open app is not implemented.');\n\t\t\t}\n\t\t\telse if (this.button.link)\n\t\t\t{\n\t\t\t\tconst preparedLink = Text.decode(this.button.link);\n\t\t\t\tUtils.browser.openLink(preparedLink);\n\t\t\t}\n\t\t\telse if (this.button.command)\n\t\t\t{\n\t\t\t\tthis.handleCustomCommand();\n\t\t\t}\n\t\t},\n\t\thandleAction()\n\t\t{\n\t\t\tthis.$emit('action', {\n\t\t\t\taction: this.button.action,\n\t\t\t\tpayload: this.button.actionValue,\n\t\t\t});\n\t\t},\n\t\thandleCustomCommand()\n\t\t{\n\t\t\tif (this.button.block)\n\t\t\t{\n\t\t\t\tthis.$emit('blockKeyboard');\n\t\t\t}\n\n\t\t\tthis.button.wait = true;\n\n\t\t\tthis.$emit('customCommand', {\n\t\t\t\tbotId: this.button.botId,\n\t\t\t\tcommand: this.button.command,\n\t\t\t\tpayload: this.button.commandParams,\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tclass=\"bx-im-keyboard-button__container\"\n\t\t\t:class=\"buttonClasses\"\n\t\t\t:style=\"buttonStyles\"\n\t\t\t@click=\"onClick\"\n\t\t>\n\t\t\t{{ button.text }}\n\t\t</div>\n\t`,\n};\n","import type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const KeyboardSeparator = {\n\tname: 'KeyboardSeparator',\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-keyboard-button__separator\"></div>\n\t`,\n};\n","import { Loc } from 'main.core';\nimport { EventEmitter } from 'main.core.events';\n\nimport { Messenger } from 'im.public';\nimport { EventType, KeyboardButtonAction } from 'im.v2.const';\nimport { SendingService } from 'im.v2.provider.service';\nimport { PhoneManager } from 'im.v2.lib.phone';\nimport { Notifier } from 'im.v2.lib.notifier';\n\nimport type { ActionEvent } from '../types/events';\n\nexport class ActionManager\n{\n\t#dialogId: string;\n\t#actionHandlers: ActionConfig = {\n\t\t[KeyboardButtonAction.send]: this.#sendMessage.bind(this),\n\t\t[KeyboardButtonAction.put]: this.#insertText.bind(this),\n\t\t[KeyboardButtonAction.call]: this.#startCall.bind(this),\n\t\t[KeyboardButtonAction.copy]: this.#copyText.bind(this),\n\t\t[KeyboardButtonAction.dialog]: this.#openChat.bind(this),\n\t};\n\n\tconstructor(dialogId)\n\t{\n\t\tthis.#dialogId = dialogId;\n\t}\n\n\thandleAction(event: ActionEvent): void\n\t{\n\t\tconst { action, payload } = event;\n\t\tif (!this.#actionHandlers[action])\n\t\t{\n\t\t\t// eslint-disable-next-line no-console\n\t\t\tconsole.error('Keyboard: action not found');\n\t\t}\n\n\t\tthis.#actionHandlers[action](payload);\n\t}\n\n\t#sendMessage(payload: string): void\n\t{\n\t\tSendingService.getInstance().sendMessage({\n\t\t\ttext: payload,\n\t\t\tdialogId: this.#dialogId,\n\t\t});\n\t}\n\n\t#insertText(payload: string): void\n\t{\n\t\tEventEmitter.emit(EventType.textarea.insertText, {\n\t\t\ttext: payload,\n\t\t\tdialogId: this.#dialogId,\n\t\t});\n\t}\n\n\t#startCall(payload: string): void\n\t{\n\t\tPhoneManager.getInstance().startCall(payload);\n\t}\n\n\t#copyText(payload: string): void\n\t{\n\t\tif (BX.clipboard?.copy(payload))\n\t\t{\n\t\t\tNotifier.onCopyTextComplete();\n\t\t}\n\t}\n\n\t#openChat(payload: string): void\n\t{\n\t\tMessenger.openChat(payload);\n\t}\n}\n","import { Core } from 'im.v2.application.core';\nimport { RestMethod } from 'im.v2.const';\n\nimport type { CustomCommandEvent } from '../types/events';\n\nexport class BotService\n{\n\t#messageId: string | number;\n\t#dialogId: string;\n\n\tconstructor(params: { messageId: string | number, dialogId: string })\n\t{\n\t\tconst { messageId, dialogId } = params;\n\t\tthis.#messageId = messageId;\n\t\tthis.#dialogId = dialogId;\n\t}\n\n\tsendCommand(event: CustomCommandEvent): void\n\t{\n\t\tconst { botId, command, payload } = event;\n\n\t\tconst queryParams = {\n\t\t\tMESSAGE_ID: this.#messageId,\n\t\t\tDIALOG_ID: this.#dialogId,\n\t\t\tBOT_ID: botId,\n\t\t\tCOMMAND: command,\n\t\t\tCOMMAND_PARAMS: payload,\n\t\t};\n\n\t\tCore.getRestClient().callMethod(RestMethod.imMessageCommand, queryParams)\n\t\t\t.catch((result: RestResult) => {\n\t\t\t\tconsole.error('BotService: error sending command:', result.error());\n\t\t\t});\n\t}\n}\n","import { KeyboardButtonType, KeyboardButtonContext } from 'im.v2.const';\n\nimport { KeyboardButton } from './components/keyboard-button';\nimport { KeyboardSeparator } from './components/keyboard-separator';\n\nimport { ActionManager } from './classes/action-manager';\nimport { BotService } from './classes/bot-service';\nimport './keyboard.css';\n\nimport type { JsonObject } from 'main.core';\nimport type { KeyboardButtonConfig } from 'im.v2.const';\nimport type { ActionEvent, CustomCommandEvent } from './types/events';\n\nexport const Keyboard = {\n\tprops:\n\t{\n\t\tbuttons: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: [Number, String],\n\t\t\trequired: true,\n\t\t},\n\t},\n\tcomponents: { KeyboardButton, KeyboardSeparator },\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tkeyboardBlocked: false,\n\t\t};\n\t},\n\temits: ['click'],\n\twatch:\n\t{\n\t\tbuttons()\n\t\t{\n\t\t\tthis.keyboardBlocked = false;\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tButtonType: () => KeyboardButtonType,\n\t\tpreparedButtons(): KeyboardButtonConfig[]\n\t\t{\n\t\t\treturn this.buttons.filter((button: KeyboardButtonConfig) => {\n\t\t\t\treturn button.context !== KeyboardButtonContext.mobile;\n\t\t\t});\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonButtonActionClick(event: ActionEvent)\n\t\t{\n\t\t\tthis.getActionManager().handleAction(event);\n\t\t},\n\t\tonButtonCustomCommandClick(event: CustomCommandEvent)\n\t\t{\n\t\t\tthis.getBotService().sendCommand(event);\n\t\t},\n\t\tgetActionManager(): ActionManager\n\t\t{\n\t\t\tif (!this.actionManager)\n\t\t\t{\n\t\t\t\tthis.actionManager = new ActionManager(this.dialogId);\n\t\t\t}\n\n\t\t\treturn this.actionManager;\n\t\t},\n\t\tgetBotService(): BotService\n\t\t{\n\t\t\tif (!this.botService)\n\t\t\t{\n\t\t\t\tthis.botService = new BotService({\n\t\t\t\t\tmessageId: this.messageId,\n\t\t\t\t\tdialogId: this.dialogId,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.botService;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-keyboard__container\">\n\t\t\t<template v-for=\"button in preparedButtons\">\n\t\t\t\t<KeyboardButton\n\t\t\t\t\tv-if=\"button.type === ButtonType.button\"\n\t\t\t\t\t:config=\"button\"\n\t\t\t\t\t:keyboardBlocked=\"keyboardBlocked\"\n\t\t\t\t\t@blockKeyboard=\"keyboardBlocked = true\"\n\t\t\t\t\t@action=\"onButtonActionClick\"\n\t\t\t\t\t@customCommand=\"onButtonCustomCommandClick\"\n\t\t\t\t/>\n\t\t\t\t<KeyboardSeparator v-else-if=\"button.type === ButtonType.newLine\" />\n\t\t\t</template>\n\t\t</div>\n\t`,\n};\n","import {UserStatus as UserStatusType} from 'im.v2.const';\n\nimport './user-status.css';\n\nexport const UserStatusSize = {\n\tS: 'S',\n\tM: 'M',\n\tL: 'L',\n\tXL: 'XL',\n\tXXL: 'XXL'\n};\n\n// @vue/component\nexport const UserStatus = {\n\tname: 'UserStatus',\n\tprops: {\n\t\tstatus: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t\tvalidator(value) {\n\t\t\t\treturn Object.values(UserStatusType).includes(value);\n\t\t\t}\n\t\t},\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: UserStatusSize.M,\n\t\t\tvalidator(value) {\n\t\t\t\treturn Object.values(UserStatusSize).includes(value);\n\t\t\t}\n\t\t}\n\t},\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tcontainerClasses()\n\t\t{\n\t\t\treturn [`--size-${this.size.toLowerCase()}`, `--${this.status}`];\n\t\t}\n\t},\n\ttemplate:\n\t`\n\t\t<div :class=\"containerClasses\" class=\"bx-im-user-status__container bx-im-user-status__scope\"></div>\n\t`\n};","import { MenuManager, Menu } from 'main.popup';\n\nimport 'ui.forms';\n\nimport './dropdown.css';\n\nexport type DropdownItem = {\n\tvalue: string,\n\ttext: string,\n\tdefault?: boolean\n};\n\n// @vue/component\nexport const Dropdown = {\n\tname: 'ChatDropdown',\n\tprops:\n\t{\n\t\titems: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tid: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['itemChange'],\n\tdata()\n\t{\n\t\treturn {\n\t\t\tselectedElement: '',\n\t\t\tmenuOpened: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tformattedItems(): {[value: string]: DropdownItem}\n\t\t{\n\t\t\tconst map = {};\n\t\t\tthis.items.forEach((item) => {\n\t\t\t\tmap[item.value] = item;\n\t\t\t});\n\n\t\t\treturn map;\n\t\t},\n\t\tdefaultItem(): DropdownItem\n\t\t{\n\t\t\treturn this.items.find((item) => {\n\t\t\t\treturn item.default === true;\n\t\t\t});\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.menuInstance = null;\n\t\tif (this.defaultItem)\n\t\t{\n\t\t\tthis.selectedElement = this.defaultItem.value;\n\t\t}\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.menuInstance?.destroy();\n\t},\n\tmethods:\n\t{\n\t\ttoggleMenu()\n\t\t{\n\t\t\tif (!this.menuInstance)\n\t\t\t{\n\t\t\t\tthis.menuInstance = this.getMenuInstance();\n\t\t\t}\n\n\t\t\tif (this.menuOpened)\n\t\t\t{\n\t\t\t\tthis.menuInstance.close();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.menuInstance.show();\n\t\t\tconst width = this.$refs.container.clientWidth;\n\t\t\tthis.menuInstance.getPopupWindow().setWidth(width);\n\t\t\tthis.menuOpened = true;\n\t\t},\n\t\tgetMenuInstance(): Menu\n\t\t{\n\t\t\treturn MenuManager.create({\n\t\t\t\tid: this.id,\n\t\t\t\tbindOptions: { forceBindPosition: true, position: 'bottom' },\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\tbindElement: this.$refs.container,\n\t\t\t\titems: this.getMenuItems(),\n\t\t\t\tevents: {\n\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\tthis.menuOpened = false;\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tgetMenuItems(): Array<{ text: string, onclick: Function }>\n\t\t{\n\t\t\treturn Object.values(this.formattedItems).map((item) => {\n\t\t\t\treturn {\n\t\t\t\t\ttext: item.text,\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tthis.selectedElement = item.value;\n\t\t\t\t\t\tthis.$emit('itemChange', item.value);\n\t\t\t\t\t\tthis.menuInstance.close();\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-dropdown__container bx-im-dropdown__scope\">\n\t\t\t<div @click=\"toggleMenu\" class=\"ui-ctl ui-ctl-xl ui-ctl-w100 ui-ctl-after-icon ui-ctl-dropdown\" ref=\"container\">\n\t\t\t\t<div class=\"ui-ctl-after ui-ctl-icon-angle\"></div>\n\t\t\t\t<div class=\"ui-ctl-element\">{{ formattedItems[selectedElement].text }}</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import './spinner.css';\n\nexport const SpinnerSize = Object.freeze({\n\tXXS: 'XXS',\n\tS: 'S',\n\tL: 'L',\n});\n\nexport const SpinnerColor = Object.freeze({\n\tgrey: 'grey',\n\tblue: 'blue',\n});\n\n// @vue/component\nexport const Spinner = {\n\tname: 'MessengerSpinner',\n\tprops: {\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\tdefault: SpinnerSize.S,\n\t\t},\n\t\tcolor: {\n\t\t\ttype: String,\n\t\t\tdefault: SpinnerColor.blue,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tsizeClassName(): string\n\t\t{\n\t\t\treturn `--size-${this.size.toLowerCase()}`;\n\t\t},\n\t\tcolorClassName(): string\n\t\t{\n\t\t\treturn `--color-${this.color.toLowerCase()}`;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-elements-spinner__container bx-im-elements-spinner__scope\">\n\t\t\t<div class=\"bx-im-elements-spinner__spinner\" :class=\"[sizeClassName, colorClassName]\"></div>\n\t\t</div>\n\t`,\n};\n","import './line-loader.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const LineLoader = {\n\tname: 'LineLoader',\n\tprops:\n\t{\n\t\twidth: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\theight: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tcontainerStyles(): { width: string, height: string }\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: `${this.width}px`,\n\t\t\t\theight: `${this.height}px`,\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-elements-line-loader__container\" :style=\"containerStyles\">\n\t\t\t<div class=\"bx-im-elements-line-loader__content\"></div>\n\t\t</div>\n\t`,\n};\n","import './toggle.css';\n\nexport const ToggleSize = {\n\tS: 'S',\n\tM: 'M',\n};\n\n// @vue/component\nexport const Toggle = {\n\tname: 'ToggleControl',\n\tprops: {\n\t\tsize: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tisEnabled: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\temits: ['change'],\n\tcomputed: {\n\t\tcontainerClasses(): string[]\n\t\t{\n\t\t\tconst classes = [`--size-${this.size.toLowerCase()}`];\n\t\t\tif (!this.isEnabled)\n\t\t\t{\n\t\t\t\tclasses.push('--off');\n\t\t\t}\n\n\t\t\treturn classes;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div :class=\"containerClasses\" class=\"bx-im-toggle__container bx-im-toggle__scope\">\n\t\t\t<span class=\"bx-im-toggle__cursor\"></span>\n\t\t\t<span class=\"bx-im-toggle__enabled\"></span>\n\t\t\t<span class=\"bx-im-toggle__disabled\"></span>\n\t\t</div>\n\t`,\n};\n","import { Dom } from 'main.core';\n\nimport './tabs.css';\n\nimport type { JsonObject } from 'main.core';\n\nconst ARROW_CONTROL_SIZE = 50;\n\nexport const TabsColorScheme = Object.freeze({\n\twhite: 'white',\n\tgray: 'gray',\n});\n\n// @vue/component\nexport const MessengerTabs = {\n\tname: 'MessengerTabs',\n\tprops: {\n\t\tcolorScheme: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t\tdefault: TabsColorScheme.white,\n\t\t\tvalidator: (value) => Object.values(TabsColorScheme).includes(value.toLowerCase())\n\t\t},\n\t\ttabs: {\n\t\t\ttype: Array,\n\t\t\tdefault: () => [],\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\thasLeftControl: false,\n\t\t\thasRightControl: false,\n\t\t\tcurrentElementIndex: 0,\n\t\t\thighlightOffsetLeft: 0,\n\t\t\thighlightWidth: 0,\n\t\t\tisFirstCall: true,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\thighlightStyle(): {left: string, width: string}\n\t\t{\n\t\t\treturn {\n\t\t\t\tleft: `${this.highlightOffsetLeft}px`,\n\t\t\t\twidth: `${this.highlightWidth}px`,\n\t\t\t};\n\t\t},\n\t\tcolorSchemeClass(): string\n\t\t{\n\t\t\treturn this.colorScheme === TabsColorScheme.white ? '--white' : '--gray';\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tcurrentElementIndex(newIndex: number)\n\t\t{\n\t\t\tthis.updateHighlightPosition(newIndex);\n\t\t\tthis.$emit('tabSelect', this.tabs[newIndex]);\n\t\t\tthis.scrollToElement(newIndex);\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tconst savedTabIndex = localStorage.getItem('lastOpenedTabIndex');\n\t\tif (this.$refs.tabs.scrollWidth > this.$refs.tabs.offsetWidth)\n\t\t{\n\t\t\tthis.hasRightControl = true;\n\t\t}\n\n\t\tif (savedTabIndex && this.tabs[savedTabIndex])\n\t\t{\n\t\t\tthis.currentElementIndex = parseInt(savedTabIndex, 10);\n\t\t}\n\n\t\tthis.updateHighlightPosition(this.currentElementIndex);\n\n\t\tsetTimeout(() => {\n\t\t\tthis.isFirstCall = false;\n\t\t}, 100);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tlocalStorage.setItem('lastOpenedTabIndex', this.currentElementIndex.toString());\n\t},\n\tmethods:\n\t{\n\t\tgetElementNodeByIndex(index: number): HTMLElement\n\t\t{\n\t\t\treturn [...this.$refs.tabs.children].filter(\n\t\t\t\t(node) => !Dom.hasClass(node, 'bx-im-elements-tabs__highlight'),\n\t\t\t)[index];\n\t\t},\n\t\tupdateHighlightPosition(index: number)\n\t\t{\n\t\t\tconst element = this.getElementNodeByIndex(index);\n\t\t\tthis.highlightOffsetLeft = element.offsetLeft;\n\t\t\tthis.highlightWidth = element.offsetWidth;\n\t\t},\n\t\tscrollToElement(elementIndex: number)\n\t\t{\n\t\t\tconst element = this.getElementNodeByIndex(elementIndex);\n\t\t\tthis.$refs.tabs.scroll({ left: element.offsetLeft - ARROW_CONTROL_SIZE, behavior: 'smooth' });\n\t\t},\n\t\tonTabClick(event): {index: number}\n\t\t{\n\t\t\tthis.currentElementIndex = event.index;\n\t\t},\n\t\tisSelectedTab(index: number): boolean\n\t\t{\n\t\t\treturn index === this.currentElementIndex;\n\t\t},\n\t\tonLeftClick()\n\t\t{\n\t\t\tif (this.currentElementIndex <= 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.currentElementIndex--;\n\t\t},\n\t\tonRightClick()\n\t\t{\n\t\t\tif (this.currentElementIndex >= this.tabs.length - 1)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.currentElementIndex++;\n\t\t},\n\t\tupdateControlsVisibility()\n\t\t{\n\t\t\tthis.hasRightControl = this.$refs.tabs.scrollWidth > this.$refs.tabs.scrollLeft + this.$refs.tabs.clientWidth;\n\t\t\tthis.hasLeftControl = this.$refs.tabs.scrollLeft > 0;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-elements-tabs__container bx-im-elements-tabs__scope\" :class=\"colorSchemeClass\">\n\t\t\t<div v-if=\"hasLeftControl\" @click.stop=\"onLeftClick\" class=\"bx-im-elements-tabs__control --left\">\n\t\t\t\t<div class=\"bx-im-elements-tabs__forward-icon\"></div>\n\t\t\t</div>\n\t\t\t<div v-if=\"hasRightControl\" @click.stop=\"onRightClick\" class=\"bx-im-elements-tabs__control --right\">\n\t\t\t\t<div class=\"bx-im-elements-tabs__forward-icon\"></div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-elements-tabs__elements\" ref=\"tabs\" @scroll.passive=\"updateControlsVisibility\">\n\t\t\t\t<div class=\"bx-im-elements-tabs__highlight\" :class=\"isFirstCall ? '' : '--transition'\" :style=\"highlightStyle\"></div>\n\t\t\t\t<div\n\t\t\t\t\tv-for=\"(tab, index) in tabs\"\n\t\t\t\t\t:key=\"tab.id\"\n\t\t\t\t\tclass=\"bx-im-elements-tabs__item\"\n\t\t\t\t\t:class=\"[isSelectedTab(index) ? '--selected' : '']\"\n\t\t\t\t\t@click=\"onTabClick({index: index})\"\n\t\t\t\t\t:title=\"tab.title\"\n\t\t\t\t>\n\t\t\t\t\t<div class=\"bx-im-elements-tabs__item-title\" :class=\"isFirstCall ? '' : '--transition'\">{{ tab.title }}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","export function formatTime(seconds: number): string\n{\n\tconst hours = Math.floor(seconds / 3600);\n\tconst minutes = Math.floor((seconds % 3600) / 60);\n\tconst remainingSeconds = Math.floor(seconds % 60);\n\n\tconst formattedHours = hours > 0 ? `${hours}:` : '';\n\tconst formattedMinutes = hours > 0 ? padZero(minutes) : minutes.toString();\n\tconst formattedSeconds = padZero(remainingSeconds);\n\n\treturn `${formattedHours}${formattedMinutes}:${formattedSeconds}`;\n}\n\nfunction padZero(num: number): string\n{\n\treturn num.toString().padStart(2, '0');\n}\n","import 'ui.fonts.opensans';\nimport 'main.polyfill.intersectionobserver';\nimport { BaseEvent, EventEmitter } from 'main.core.events';\n\nimport { LocalStorageKey, AudioPlaybackRate, AudioPlaybackState as State, EventType } from 'im.v2.const';\nimport { LocalStorageManager } from 'im.v2.lib.local-storage';\nimport { Utils } from 'im.v2.lib.utils';\n\nimport { MessageAvatar, AvatarSize } from '../registry';\nimport { formatTime } from '../videoplayer/helpers/format-time';\n\nimport './audioplayer.css';\n\nimport type { JsonObject } from 'main.core';\n\nconst ID_KEY = 'im:audioplayer:id';\n\n// @vue/component\nexport const AudioPlayer = {\n\tname: 'AudioPlayer',\n\tcomponents: { MessageAvatar },\n\tprops: {\n\t\tid: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t\tsrc: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tfile: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tauthorId: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tmessageId: {\n\t\t\ttype: [String, Number],\n\t\t\trequired: true,\n\t\t},\n\t\ttimelineType: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\twithContextMenu: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithAvatar: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithPlaybackRateControl: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t},\n\tdata(): JsonObject {\n\t\treturn {\n\t\t\tpreload: 'none',\n\t\t\tloaded: false,\n\t\t\tloading: false,\n\t\t\tstate: State.none,\n\t\t\tprogress: 0,\n\t\t\tprogressInPixel: 0,\n\t\t\tseek: 0,\n\t\t\ttimeCurrent: 0,\n\t\t\ttimeTotal: 0,\n\t\t\tshowContextButton: false,\n\t\t\tcurrentRate: AudioPlaybackRate['1'],\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tState: () => State,\n\t\tseekPosition(): string\n\t\t{\n\t\t\tif (!this.loaded && !this.seek)\n\t\t\t{\n\t\t\t\treturn 'display: none';\n\t\t\t}\n\n\t\t\treturn `left: ${this.seek}px;`;\n\t\t},\n\t\tisPlaying(): boolean\n\t\t{\n\t\t\treturn this.state === State.play;\n\t\t},\n\t\tlabelTime(): string\n\t\t{\n\t\t\tif (!this.loaded && !this.timeTotal)\n\t\t\t{\n\t\t\t\treturn '--:--';\n\t\t\t}\n\n\t\t\tlet time = 0;\n\t\t\tif (this.isPlaying)\n\t\t\t{\n\t\t\t\ttime = this.timeTotal - this.timeCurrent;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttime = this.timeTotal;\n\t\t\t}\n\n\t\t\treturn formatTime(time);\n\t\t},\n\t\tAvatarSize: () => AvatarSize,\n\t\tfileSize(): string\n\t\t{\n\t\t\treturn Utils.file.formatFileSize(this.file.size);\n\t\t},\n\t\tprogressPosition(): { width: string }\n\t\t{\n\t\t\tif (!this.loaded || this.state === State.none)\n\t\t\t{\n\t\t\t\treturn { width: '100%' };\n\t\t\t}\n\n\t\t\treturn { width: `${this.progressInPixel}px` };\n\t\t},\n\t\tactiveTimelineStyles(): { [className: string]: string }\n\t\t{\n\t\t\tconst TIMELINE_VERTICAL_SHIFT = 44;\n\t\t\tconst ACTIVE_TIMELINE_VERTICAL_SHIFT = 19;\n\n\t\t\tconst shift = this.timelineType * TIMELINE_VERTICAL_SHIFT + ACTIVE_TIMELINE_VERTICAL_SHIFT;\n\n\t\t\treturn {\n\t\t\t\t...this.progressPosition,\n\t\t\t\t'background-position-y': `-${shift}px`,\n\t\t\t};\n\t\t},\n\t\ttimelineStyles(): { [className: string]: string }\n\t\t{\n\t\t\tconst TIMELINE_VERTICAL_SHIFT = 44;\n\n\t\t\tconst shift = this.timelineType * TIMELINE_VERTICAL_SHIFT;\n\n\t\t\treturn {\n\t\t\t\t'background-position-y': `-${shift}px`,\n\t\t\t};\n\t\t},\n\t\tgetAudioPlayerIds(): Array\n\t\t{\n\t\t\treturn this.$Bitrix.Data.get(ID_KEY, []);\n\t\t},\n\t\tcurrentRateLabel(): string\n\t\t{\n\t\t\treturn this.isPlaying ? `${this.currentRate}x` : '';\n\t\t},\n\t\tmetaInfo(): string\n\t\t{\n\t\t\treturn `${this.fileSize}, ${this.labelTime}`;\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tid(value: number)\n\t\t{\n\t\t\tthis.registerPlayer(value);\n\t\t},\n\t\tprogress(value: number)\n\t\t{\n\t\t\tif (value > 70)\n\t\t\t{\n\t\t\t\tthis.preloadNext();\n\t\t\t}\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.localStorageInst = LocalStorageManager.getInstance();\n\t\tthis.currentRate = this.getRateFromLS();\n\n\t\tthis.preloadRequestSent = false;\n\t\tthis.registeredId = 0;\n\n\t\tthis.registerPlayer(this.id);\n\t\tEventEmitter.subscribe(EventType.audioPlayer.play, this.onPlay);\n\t\tEventEmitter.subscribe(EventType.audioPlayer.stop, this.onStop);\n\t\tEventEmitter.subscribe(EventType.audioPlayer.pause, this.onPause);\n\t\tEventEmitter.subscribe(EventType.audioPlayer.preload, this.onPreload);\n\t},\n\tmounted()\n\t{\n\t\tthis.getObserver().observe(this.$refs.body);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.unregisterPlayer();\n\n\t\tEventEmitter.unsubscribe(EventType.audioPlayer.play, this.onPlay);\n\t\tEventEmitter.unsubscribe(EventType.audioPlayer.stop, this.onStop);\n\t\tEventEmitter.unsubscribe(EventType.audioPlayer.pause, this.onPause);\n\t\tEventEmitter.unsubscribe(EventType.audioPlayer.preload, this.onPreload);\n\n\t\tthis.getObserver().unobserve(this.$refs.body);\n\t},\n\tmethods:\n\t{\n\t\tloadFile(play: boolean = false)\n\t\t{\n\t\t\tif (this.loaded || (this.loading && !play))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.preload = 'auto';\n\n\t\t\tif (!play)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loading = true;\n\n\t\t\tif (this.source())\n\t\t\t{\n\t\t\t\tvoid this.source().play();\n\t\t\t}\n\t\t},\n\t\tclickToButton()\n\t\t{\n\t\t\tif (!this.src)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (this.isPlaying)\n\t\t\t{\n\t\t\t\tthis.pause();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.play();\n\t\t\t}\n\t\t},\n\t\tplay()\n\t\t{\n\t\t\tthis.updateRate(this.getRateFromLS());\n\n\t\t\tif (!this.loaded)\n\t\t\t{\n\t\t\t\tthis.loadFile(true);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvoid this.source().play();\n\t\t},\n\t\tpause()\n\t\t{\n\t\t\tthis.source().pause();\n\t\t},\n\t\tstop()\n\t\t{\n\t\t\tthis.state = State.stop;\n\t\t\tthis.source().pause();\n\t\t},\n\t\tsetPosition()\n\t\t{\n\t\t\tif (!this.loaded)\n\t\t\t{\n\t\t\t\tthis.loadFile(true);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst pixelPerPercent = this.$refs.track.offsetWidth / 100;\n\n\t\t\tthis.setProgress(this.seek / pixelPerPercent, this.seek);\n\n\t\t\tif (this.state !== State.play)\n\t\t\t{\n\t\t\t\tthis.state = State.pause;\n\t\t\t}\n\n\t\t\tthis.play();\n\t\t\tthis.source().currentTime = this.timeTotal / 100 * this.progress;\n\t\t},\n\t\tgetRateFromLS(): $Values<typeof AudioPlaybackRate>\n\t\t{\n\t\t\treturn this.localStorageInst.get(LocalStorageKey.audioPlaybackRate) || AudioPlaybackRate['1'];\n\t\t},\n\t\tsetRateInLS(newRate: $Values<typeof AudioPlaybackRate>)\n\t\t{\n\t\t\tthis.localStorageInst.set(LocalStorageKey.audioPlaybackRate, newRate);\n\t\t},\n\t\tgetNextPlaybackRate(currentRate: $Values<typeof AudioPlaybackRate>): $Values<typeof AudioPlaybackRate>\n\t\t{\n\t\t\tconst rates = Object.values(AudioPlaybackRate).sort();\n\t\t\tconst currentIndex = rates.indexOf(currentRate);\n\t\t\tconst nextIndex = (currentIndex + 1) % rates.length;\n\n\t\t\treturn rates[nextIndex];\n\t\t},\n\t\tchangeRate()\n\t\t{\n\t\t\tif ([State.pause, State.none].includes(this.state))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst commonCurrentRate = this.getRateFromLS();\n\t\t\tconst newRate = this.getNextPlaybackRate(commonCurrentRate);\n\n\t\t\tthis.setRateInLS(newRate);\n\t\t\tthis.updateRate(newRate);\n\t\t},\n\t\tupdateRate(newRate: $Values<typeof AudioPlaybackRate>)\n\t\t{\n\t\t\tthis.currentRate = newRate;\n\t\t\tthis.source().playbackRate = newRate;\n\t\t},\n\t\tseeking(event: MouseEvent): boolean\n\t\t{\n\t\t\tif (!this.loaded)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.seek = event.offsetX > 0 ? event.offsetX : 0;\n\t\t},\n\t\tsetProgress(percent: number, pixel: number = -1)\n\t\t{\n\t\t\tthis.progress = percent;\n\t\t\tthis.progressInPixel = pixel > 0 ? pixel : Math.round(this.$refs.track.offsetWidth / 100 * percent);\n\t\t},\n\t\tregisterPlayer(id: number): boolean\n\t\t{\n\t\t\tif (id <= 0)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.unregisterPlayer();\n\t\t\tconst audioIdArray = [...new Set([...this.getAudioPlayerIds, id])];\n\t\t\tthis.$Bitrix.Data.set(ID_KEY, audioIdArray.sort((a, b) => a - b));\n\n\t\t\tthis.registeredId = id;\n\t\t},\n\t\tunregisterPlayer(): boolean\n\t\t{\n\t\t\tif (!this.registeredId)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$Bitrix.Data.get(ID_KEY, this.getAudioPlayerIds.filter((id) => id !== this.registeredId));\n\n\t\t\tthis.registeredId = 0;\n\t\t},\n\t\tplayNext(): boolean\n\t\t{\n\t\t\tif (!this.registeredId)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst nextId = this.getAudioPlayerIds.filter((id) => id > this.registeredId).slice(0, 1)[0];\n\t\t\tif (nextId)\n\t\t\t{\n\t\t\t\tEventEmitter.emit(EventType.audioPlayer.play, { id: nextId, start: true });\n\t\t\t}\n\t\t},\n\t\tpreloadNext(): boolean\n\t\t{\n\t\t\tif (this.preloadRequestSent || !this.registeredId)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.preloadRequestSent = true;\n\n\t\t\tconst nextId = this.getAudioPlayerIds.filter((id) => id > this.registeredId).slice(0, 1)[0];\n\t\t\tif (nextId)\n\t\t\t{\n\t\t\t\tEventEmitter.emit(EventType.audioPlayer.preload, { id: nextId });\n\t\t\t}\n\t\t},\n\t\tonPlay(event: BaseEvent)\n\t\t{\n\t\t\tconst data = event.getData();\n\n\t\t\tif (data.id !== this.id)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (data.start)\n\t\t\t{\n\t\t\t\tthis.stop();\n\t\t\t}\n\n\t\t\tthis.play();\n\t\t},\n\t\tonStop(event: BaseEvent)\n\t\t{\n\t\t\tconst data = event.getData();\n\n\t\t\tif (data.initiator === this.id)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.stop();\n\t\t},\n\t\tonPause(event: BaseEvent)\n\t\t{\n\t\t\tconst data = event.getData();\n\n\t\t\tif (data.initiator === this.id)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.pause();\n\t\t},\n\t\tonPreload(event: BaseEvent)\n\t\t{\n\t\t\tconst data = event.getData();\n\n\t\t\tif (data.id !== this.id)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.loadFile();\n\t\t},\n\t\tsource(): HTMLAudioElement\n\t\t{\n\t\t\treturn this.$refs.source;\n\t\t},\n\t\taudioEventRouter(eventName: string, event: BaseEvent)\n\t\t{\n\t\t\t// eslint-disable-next-line default-case\n\t\t\tswitch (eventName)\n\t\t\t{\n\t\t\t\tcase 'durationchange':\n\t\t\t\tcase 'loadeddata':\n\t\t\t\tcase 'loadedmetadata':\n\t\t\t\t\tif (!this.source())\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tthis.timeTotal = this.source().duration;\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'abort':\n\t\t\t\tcase 'error':\n\t\t\t\t\tconsole.error('BxAudioPlayer: load failed', this.id, event);\n\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.state = State.none;\n\t\t\t\t\tthis.timeTotal = 0;\n\t\t\t\t\tthis.preload = 'none';\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'canplaythrough':\n\t\t\t\t\tthis.loading = false;\n\t\t\t\t\tthis.loaded = true;\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'timeupdate':\n\t\t\t\t\tif (!this.source())\n\t\t\t\t\t{\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.timeCurrent = this.source().currentTime;\n\n\t\t\t\t\tthis.setProgress(Math.round(100 / this.timeTotal * this.timeCurrent));\n\n\t\t\t\t\tif (this.isPlaying && this.timeCurrent >= this.timeTotal)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.playNext();\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'pause':\n\t\t\t\t\tif (this.state !== State.stop)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.state = State.pause;\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'play':\n\t\t\t\t\tthis.state = State.play;\n\n\t\t\t\t\tif (this.state === State.stop)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.progress = 0;\n\t\t\t\t\t\tthis.timeCurrent = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.id > 0)\n\t\t\t\t\t{\n\t\t\t\t\t\tEventEmitter.emit(EventType.audioPlayer.pause, { initiator: this.id });\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\t\t\t// No default\n\t\t\t}\n\t\t},\n\t\tgetObserver(): IntersectionObserver\n\t\t{\n\t\t\tif (this.observer)\n\t\t\t{\n\t\t\t\treturn this.observer;\n\t\t\t}\n\n\t\t\tthis.observer = new IntersectionObserver((entries) => {\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.isIntersecting && this.preload === 'none')\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.preload = 'metadata';\n\t\t\t\t\t\tthis.observer.unobserve(entry.target);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, {\n\t\t\t\tthreshold: [0, 1],\n\t\t\t});\n\n\t\t\treturn this.observer;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div \n\t\t\tclass=\"bx-im-audio-player__container bx-im-audio-player__scope\" \n\t\t\tref=\"body\"\n\t\t\t@mouseover=\"showContextButton = true\"\n\t\t\t@mouseleave=\"showContextButton = false\"\n\t\t>\n\t\t\t<div class=\"bx-im-audio-player__control-container\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\"bx-im-audio-player__control-button\"\n\t\t\t\t\t:class=\"{\n\t\t\t\t\t\t'bx-im-audio-player__control-loader': loading,\n\t\t\t\t\t\t'bx-im-audio-player__control-play': !loading && !this.isPlaying,\n\t\t\t\t\t\t'bx-im-audio-player__control-pause': !loading && this.isPlaying,\n\t\t\t\t\t}\"\n\t\t\t\t\t@click=\"clickToButton\"\n\t\t\t\t></button>\n\t\t\t\t<div v-if=\"withAvatar\" class=\"bx-im-audio-player__author-avatar-container\">\n\t\t\t\t\t<MessageAvatar \n\t\t\t\t\t\t:messageId=\"messageId\"\n\t\t\t\t\t\t:authorId=\"authorId\"\n\t\t\t\t\t\t:size=\"AvatarSize.XS\" \n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-audio-player__timeline-container\">\n\t\t\t\t<div class=\"bx-im-audio-player__track-container\" @click=\"setPosition\" ref=\"track\">\n\t\t\t\t\t<div class=\"bx-im-audio-player__track-mask\" :style=\"timelineStyles\"></div>\n\t\t\t\t\t<div class=\"bx-im-audio-player__track-mask --active\" :style=\"activeTimelineStyles\"></div>\n\t\t\t\t\t<div class=\"bx-im-audio-player__track-seek\" :style=\"seekPosition\"></div>\n\t\t\t\t\t<div class=\"bx-im-audio-player__track-event\" @mousemove=\"seeking\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-audio-player__timer-container --ellipsis\">\n\t\t\t\t\t{{metaInfo}}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div\n\t\t\t\tv-if=\"!withPlaybackRateControl\"\n\t\t\t\tclass=\"bx-im-audio-player__rate-button-container\"\n\t\t\t>\n\t\t\t\t<button\n\t\t\t\t\t:class=\"{'--active': isPlaying}\"\n\t\t\t\t\t@click=\"changeRate\"\n\t\t\t\t>\n\t\t\t\t\t<span :class=\"{'bx-im-audio-player__rate-icon': !isPlaying}\">\n\t\t\t\t\t\t{{currentRateLabel}}\n\t\t\t\t\t</span>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t\t<button\n\t\t\t\tv-if=\"showContextButton && withContextMenu\"\n\t\t\t\tclass=\"bx-im-messenger__context-menu-icon bx-im-audio-player__context-menu-button\"\n\t\t\t\t@click=\"$emit('contextMenuClick', $event)\"\n\t\t\t></button>\n\t\t\t<audio \n\t\t\t\tv-if=\"src\" \n\t\t\t\t:src=\"src\" \n\t\t\t\tclass=\"bx-im-audio-player__audio-source\" \n\t\t\t\tref=\"source\" \n\t\t\t\t:preload=\"preload\"\n\t\t\t\t@abort=\"audioEventRouter('abort', $event)\"\n\t\t\t\t@error=\"audioEventRouter('error', $event)\"\n\t\t\t\t@suspend=\"audioEventRouter('suspend', $event)\"\n\t\t\t\t@canplay=\"audioEventRouter('canplay', $event)\"\n\t\t\t\t@canplaythrough=\"audioEventRouter('canplaythrough', $event)\"\n\t\t\t\t@durationchange=\"audioEventRouter('durationchange', $event)\"\n\t\t\t\t@loadeddata=\"audioEventRouter('loadeddata', $event)\"\n\t\t\t\t@loadedmetadata=\"audioEventRouter('loadedmetadata', $event)\"\n\t\t\t\t@timeupdate=\"audioEventRouter('timeupdate', $event)\"\n\t\t\t\t@play=\"audioEventRouter('play', $event)\"\n\t\t\t\t@playing=\"audioEventRouter('playing', $event)\"\n\t\t\t\t@pause=\"audioEventRouter('pause', $event)\"\n\t\t\t></audio>\n\t\t</div>\n\t`,\n};\n","import { BitrixVue } from 'ui.vue3';\n\nimport { highlightText } from 'im.v2.lib.text-highlighter';\nimport { ChatTitle } from '../registry';\n\n// @vue/component\nexport const ChatTitleWithHighlighting = BitrixVue.cloneComponent(ChatTitle, {\n\tname: 'ChatTitleWithHighlighting',\n\tprops: {\n\t\ttextToHighlight: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\tcomputed:\n\t\t{\n\t\t\tdialogName(): string\n\t\t\t{\n\t\t\t\t// noinspection JSUnresolvedVariable\n\t\t\t\treturn highlightText(this.parentDialogName, this.textToHighlight);\n\t\t\t},\n\t\t},\n});\n","import { Utils } from 'im.v2.lib.utils';\nimport { Spinner, SpinnerSize, SpinnerColor } from '../registry';\n\nimport './search-input.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const SearchInput = {\n\tname: 'SearchInput',\n\tcomponents: {\n\t\tSpinner,\n\t},\n\tprops: {\n\t\tplaceholder: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\tsearchMode: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithIcon: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\twithLoader: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tisLoading: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: false,\n\t\t},\n\t\tdelayForFocusOnStart: {\n\t\t\ttype: Number || null,\n\t\t\tdefault: null,\n\t\t},\n\t},\n\temits: ['queryChange', 'inputFocus', 'inputBlur', 'keyPressed', 'close'],\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tquery: '',\n\t\t\thasFocus: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tSpinnerSize: () => SpinnerSize,\n\t\tSpinnerColor: () => SpinnerColor,\n\t\tisEmptyQuery(): boolean\n\t\t{\n\t\t\treturn this.query.length === 0;\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tsearchMode(newValue: boolean)\n\t\t{\n\t\t\tif (newValue === true)\n\t\t\t{\n\t\t\t\tthis.focus();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.query = '';\n\t\t\t\tthis.blur();\n\t\t\t}\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tif (this.delayForFocusOnStart === 0)\n\t\t{\n\t\t\tthis.focus();\n\t\t}\n\t\telse if (this.delayForFocusOnStart > 0)\n\t\t{\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.focus();\n\t\t\t}, this.delayForFocusOnStart);\n\t\t}\n\t},\n\tmethods:\n\t{\n\t\tonInputUpdate()\n\t\t{\n\t\t\tthis.$emit('queryChange', this.query);\n\t\t},\n\t\tonFocus()\n\t\t{\n\t\t\tthis.focus();\n\t\t\tthis.$emit('inputFocus');\n\t\t},\n\t\tonCloseClick()\n\t\t{\n\t\t\tthis.query = '';\n\t\t\tthis.hasFocus = false;\n\t\t\tthis.$emit('queryChange', this.query);\n\t\t\tthis.$emit('close');\n\t\t},\n\t\tonClearInput()\n\t\t{\n\t\t\tthis.query = '';\n\t\t\tthis.focus();\n\t\t\tthis.$emit('queryChange', this.query);\n\t\t},\n\t\tonKeyUp(event: KeyboardEvent)\n\t\t{\n\t\t\tif (Utils.key.isCombination(event, 'Escape'))\n\t\t\t{\n\t\t\t\tthis.onEscapePressed();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$emit('keyPressed', event);\n\t\t},\n\t\tonEscapePressed()\n\t\t{\n\t\t\tif (this.isEmptyQuery)\n\t\t\t{\n\t\t\t\tthis.onCloseClick();\n\t\t\t\tthis.blur();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.onClearInput();\n\t\t\t}\n\t\t},\n\t\tfocus()\n\t\t{\n\t\t\tthis.hasFocus = true;\n\t\t\tthis.$refs.searchInput.focus();\n\t\t},\n\t\tblur()\n\t\t{\n\t\t\tthis.hasFocus = false;\n\t\t\tthis.$refs.searchInput.blur();\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-search-input__scope bx-im-search-input__container\" :class=\"{'--has-focus': hasFocus}\">\n\t\t\t<div v-if=\"!isLoading\" class=\"bx-im-search-input__search-icon\"></div>\n\t\t\t<Spinner \n\t\t\t\tv-if=\"withLoader && isLoading\" \n\t\t\t\t:size=\"SpinnerSize.XXS\" \n\t\t\t\t:color=\"SpinnerColor.grey\" \n\t\t\t\tclass=\"bx-im-search-input__loader\"\n\t\t\t/>\n\t\t\t<input\n\t\t\t\t@focus=\"onFocus\"\n\t\t\t\t@input=\"onInputUpdate\"\n\t\t\t\t@keyup=\"onKeyUp\"\n\t\t\t\tv-model=\"query\"\n\t\t\t\tclass=\"bx-im-search-input__element\"\n\t\t\t\t:class=\"{'--with-icon': withIcon}\"\n\t\t\t\t:placeholder=\"placeholder\"\n\t\t\t\tref=\"searchInput\"\n\t\t\t/>\n\t\t\t<div v-if=\"hasFocus\" class=\"bx-im-search-input__close-icon\" @click=\"onCloseClick\"></div>\n\t\t</div>\n\t`,\n};\n","import { ActionByRole } from 'im.v2.const';\nimport { PermissionManager } from 'im.v2.lib.permission';\n\nimport { ChatTitle } from '../chat-title/chat-title';\n\nimport './editable-chat-title.css';\n\nimport type { JsonObject } from 'main.core';\nimport type { ImModelChat } from 'im.v2.model';\n\nconst INPUT_PADDING = 5;\n\n// @vue/component\nexport const EditableChatTitle = {\n\tname: 'EditableChatTitle',\n\tcomponents: { ChatTitle },\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['newTitleSubmit'],\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tisEditing: false,\n\t\t\tinputWidth: 0,\n\t\t\tshowEditIcon: false,\n\t\t\tchatTitle: '',\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tcanBeRenamed(): boolean\n\t\t{\n\t\t\treturn PermissionManager.getInstance().canPerformActionByRole(ActionByRole.rename, this.dialogId);\n\t\t},\n\t\tinputStyle(): { width: string }\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: `calc(${this.inputWidth}ch + ${INPUT_PADDING}px)`,\n\t\t\t};\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tchatTitle()\n\t\t{\n\t\t\tthis.inputWidth = this.chatTitle.length;\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tthis.chatTitle = this.dialog.name;\n\t},\n\tmethods:\n\t{\n\t\tasync onTitleClick()\n\t\t{\n\t\t\tif (!this.canBeRenamed)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif (!this.chatTitle)\n\t\t\t{\n\t\t\t\tthis.chatTitle = this.dialog.name;\n\t\t\t}\n\n\t\t\tthis.isEditing = true;\n\t\t\tawait this.$nextTick();\n\t\t\tthis.$refs.titleInput.focus();\n\t\t},\n\t\tonNewTitleSubmit()\n\t\t{\n\t\t\tif (!this.isEditing)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.isEditing = false;\n\n\t\t\tconst nameNotChanged = this.chatTitle === this.dialog.name;\n\t\t\tif (nameNotChanged || this.chatTitle === '')\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.$emit('newTitleSubmit', this.chatTitle);\n\t\t},\n\t\tonEditCancel()\n\t\t{\n\t\t\tthis.isEditing = false;\n\t\t\tthis.showEditIcon = false;\n\t\t\tthis.chatTitle = this.dialog.name;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tv-if=\"!isEditing\"\n\t\t\t@click=\"onTitleClick\"\n\t\t\t@mouseover=\"showEditIcon = true\"\n\t\t\t@mouseleave=\"showEditIcon = false\"\n\t\t\tclass=\"bx-im-elements-editable-chat-title__wrap\"\n\t\t\t:class=\"{'--can-rename': canBeRenamed}\"\n\t\t>\n\t\t\t<div class=\"bx-im-elements-editable-chat-title__container\">\n\t\t\t\t<ChatTitle :dialogId=\"dialogId\" :withMute=\"true\" :withAutoDelete=\"true\" />\n\t\t\t</div>\n\t\t\t<div class=\"bx-im-elements-editable-chat-title__edit-icon_container\">\n\t\t\t\t<div v-if=\"showEditIcon && canBeRenamed\" class=\"bx-im-elements-editable-chat-title__edit-icon\"></div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div v-else class=\"bx-im-elements-editable-chat-title__input_container\">\n\t\t\t<input\n\t\t\t\tv-model=\"chatTitle\"\n\t\t\t\t:style=\"inputStyle\"\n\t\t\t\t@focus=\"$event.target.select()\"\n\t\t\t\t@blur=\"onNewTitleSubmit\"\n\t\t\t\t@keyup.enter=\"onNewTitleSubmit\"\n\t\t\t\t@keyup.esc=\"onEditCancel\"\n\t\t\t\ttype=\"text\"\n\t\t\t\tclass=\"bx-im-elements-editable-chat-title__input\"\n\t\t\t\tref=\"titleInput\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import './scroll-with-gradient.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ScrollWithGradient = {\n\tname: 'ScrollWithGradient',\n\tprops:\n\t{\n\t\tcontainerMaxHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t\trequired: false,\n\t\t},\n\t\tgradientHeight: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t\twithShadow: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tshowTopGradient: false,\n\t\t\tshowBottomGradient: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tcontentHeightStyle(): JsonObject\n\t\t{\n\t\t\tif (!this.containerMaxHeight)\n\t\t\t{\n\t\t\t\treturn { height: '100%' };\n\t\t\t}\n\n\t\t\treturn { maxHeight: `${this.containerMaxHeight}px` };\n\t\t},\n\t\tgradientHeightStyle(): JsonObject\n\t\t{\n\t\t\treturn {\n\t\t\t\tmaxHeight: `${this.gradientHeightStyle}px`,\n\t\t\t};\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\t// const container = this.$refs['scroll-container'];\n\t\t// this.showBottomGradient = container.scrollHeight > container.clientHeight;\n\t},\n\tmethods:\n\t{\n\t\tonScroll(event: Event)\n\t\t{\n\t\t\tthis.$emit('scroll', event);\n\t\t\tconst scrollPosition = Math.floor(event.target.scrollTop + event.target.clientHeight);\n\n\t\t\tthis.showBottomGradient = scrollPosition !== event.target.scrollHeight;\n\n\t\t\tif (event.target.scrollTop === 0)\n\t\t\t{\n\t\t\t\tthis.showTopGradient = false;\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.showTopGradient = true;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-scroll-with-gradient__container\">\n\t\t\t<Transition name=\"gradient-fade\">\n\t\t\t\t<div v-if=\"showTopGradient\" class=\"bx-im-scroll-with-gradient__gradient --top\" :style=\"gradientHeightStyle\">\n\t\t\t\t\t<div v-if=\"withShadow\" class=\"bx-im-scroll-with-gradient__gradient-inner\"></div>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t\t<div \n\t\t\t\tclass=\"bx-im-scroll-with-gradient__content\" \n\t\t\t\t:style=\"contentHeightStyle\" \n\t\t\t\t@scroll=\"onScroll\"\n\t\t\t\tref=\"scroll-container\"\n\t\t\t>\n\t\t\t\t<slot></slot>\n\t\t\t</div>\n\t\t\t<Transition name=\"gradient-fade\">\n\t\t\t\t<div v-if=\"showBottomGradient\" class=\"bx-im-scroll-with-gradient__gradient --bottom\" :style=\"gradientHeightStyle\">\n\t\t\t\t\t<div v-if=\"withShadow\" class=\"bx-im-scroll-with-gradient__gradient-inner\"></div>\n\t\t\t\t</div>\n\t\t\t</Transition>\n\t\t</div>\n\t`,\n};\n","import { Lottie } from 'ui.lottie';\n\nimport { InputAction } from 'im.v2.lib.input-action';\n\nimport RecordingAnimation from '../animations/recording.json';\nimport UploadingAnimation from '../animations/uploading.json';\nimport WritingAnimation from '../animations/writing.json';\n\nimport type { ImModelInputActions } from 'im.v2.model';\n\ntype InputActionUserRecord = {\n\tuserId: number,\n\tuserName: string\n};\n\nconst USERS_TO_SHOW = 3;\nconst AnimationByActionType = {\n\t[InputAction.writing]: WritingAnimation,\n\t[InputAction.sendingFile]: UploadingAnimation,\n\t[InputAction.recordingVoice]: RecordingAnimation,\n};\n\nconst LocCodeByActionType = {\n\t[InputAction.writing]: 'IM_ELEMENTS_STATUS_TYPING_MSGVER_1',\n\t[InputAction.sendingFile]: 'IM_ELEMENTS_STATUS_SENDING_FILE_MSGVER_1',\n\t[InputAction.recordingVoice]: 'IM_ELEMENTS_STATUS_RECORDING_VOICE_MSGVER_1',\n};\n\n// @vue/component\nexport const InputActions = {\n\tname: 'InputActions',\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t\tenterAnimationFinished: {\n\t\t\trequired: true,\n\t\t\ttype: Boolean,\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tchatInputActions(): ImModelInputActions\n\t\t{\n\t\t\treturn this.$store.getters['chats/inputActions/getByDialogId'](this.dialogId);\n\t\t},\n\t\tuniqueUserRecords(): InputActionUserRecord[]\n\t\t{\n\t\t\tconst uniqueUserRecords = {};\n\t\t\tthis.chatInputActions.forEach((userRecord) => {\n\t\t\t\tuniqueUserRecords[userRecord.userId] = userRecord.userName;\n\t\t\t});\n\n\t\t\treturn Object.entries(uniqueUserRecords).map(([userId, userName]) => {\n\t\t\t\treturn { userId, userName };\n\t\t\t});\n\t\t},\n\t\tisSingleUserActive(): boolean\n\t\t{\n\t\t\tconst userIds = this.chatInputActions.map((element) => element.userId);\n\t\t\tconst uniqueUsers = new Set(userIds);\n\n\t\t\treturn uniqueUsers.size === 1;\n\t\t},\n\t\tusersToShowText(): string\n\t\t{\n\t\t\tconst usersToShow = this.uniqueUserRecords.slice(0, USERS_TO_SHOW);\n\n\t\t\treturn usersToShow.map((element) => element.userName).join(', ');\n\t\t},\n\t\tinputActionText(): string\n\t\t{\n\t\t\tif (this.isSingleUserActive)\n\t\t\t{\n\t\t\t\treturn this.getActionTextForSingleUser();\n\t\t\t}\n\n\t\t\t// Ivan, Alex, Rob and 7 more are writing\n\t\t\tconst remainingUsersCount = this.uniqueUserRecords.length - USERS_TO_SHOW;\n\t\t\tif (remainingUsersCount > 0)\n\t\t\t{\n\t\t\t\treturn this.loc('IM_ELEMENTS_STATUS_TYPING_PLURAL_MORE_MSGVER_1', {\n\t\t\t\t\t'#USERS#': this.usersToShowText,\n\t\t\t\t\t'#COUNT#': remainingUsersCount,\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Ivan, Alex, Rob are writing\n\t\t\treturn this.loc('IM_ELEMENTS_STATUS_TYPING_PLURAL_MSGVER_1', {\n\t\t\t\t'#USERS#': this.usersToShowText,\n\t\t\t});\n\t\t},\n\t\tanimationName(): string\n\t\t{\n\t\t\tif (this.isSingleUserActive)\n\t\t\t{\n\t\t\t\tconst [firstUserRecord] = this.chatInputActions;\n\t\t\t\tconst { type } = firstUserRecord;\n\n\t\t\t\treturn AnimationByActionType[type];\n\t\t\t}\n\n\t\t\treturn WritingAnimation;\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tenterAnimationFinished()\n\t\t{\n\t\t\tif (this.currentAnimation)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.playAnimation(this.animationName);\n\t\t},\n\t\tanimationName(newAnimation: string)\n\t\t{\n\t\t\tthis.stopAnimation();\n\t\t\tthis.playAnimation(newAnimation);\n\t\t},\n\t},\n\tmounted()\n\t{\n\t\tif (!this.$refs.animationContainer)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.playAnimation(this.animationName);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.stopAnimation();\n\t},\n\tmethods:\n\t{\n\t\tgetActionTextForSingleUser(): string\n\t\t{\n\t\t\tconst [firstUserRecord] = this.chatInputActions;\n\t\t\tconst { type, userName } = firstUserRecord;\n\t\t\tconst code = LocCodeByActionType[type];\n\n\t\t\treturn this.loc(code, { '#USER#': userName });\n\t\t},\n\t\tplayAnimation(animationName: string): void\n\t\t{\n\t\t\tthis.currentAnimation = Lottie.loadAnimation({\n\t\t\t\tanimationData: animationName,\n\t\t\t\tcontainer: this.$refs.animationContainer,\n\t\t\t\trenderer: 'svg',\n\t\t\t\tloop: true,\n\t\t\t\tautoplay: true,\n\t\t\t});\n\t\t},\n\t\tstopAnimation()\n\t\t{\n\t\t\tif (!this.currentAnimation)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.currentAnimation.destroy();\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-dialog-chat-status__content\">\n\t\t\t<div class=\"bx-im-dialog-chat-status__animation\" ref=\"animationContainer\"></div>\n\t\t\t<div class=\"bx-im-dialog-chat-status__text\">{{ inputActionText }}</div>\n\t\t</div>\n\t`,\n};\n","import { Core } from 'im.v2.application.core';\nimport { RestMethod } from 'im.v2.const';\nimport { UserManager } from 'im.v2.lib.user';\nimport { Logger } from 'im.v2.lib.logger';\n\nexport class UserService\n{\n\tasync loadReadUsers(messageId): Promise<number[]>\n\t{\n\t\tLogger.warn('Dialog-status: UserService: loadReadUsers', messageId);\n\t\tconst response = await Core.getRestClient().callMethod(RestMethod.imV2ChatMessageTailViewers, {\n\t\t\tid: messageId,\n\t\t})\n\t\t\t.catch((result: RestResult) => {\n\t\t\t\tconsole.error('Dialog-status: UserService: loadReadUsers error', result.error());\n\t\t\t\tthrow result.error();\n\t\t\t});\n\t\tconst users = response.data().users;\n\t\tconst userManager = new UserManager();\n\t\tawait userManager.setUsersToModel(Object.values(users));\n\n\t\treturn users.map((user) => user.id);\n\t}\n}\n","import { Core } from 'im.v2.application.core';\n\nimport { UserService } from '../classes/user-service';\nimport { UserListPopup } from '../../registry';\n\nimport type { JsonObject } from 'main.core';\nimport type { ImModelChat } from 'im.v2.model';\n\n// @vue/component\nexport const AdditionalUsers = {\n\tcomponents: { UserListPopup },\n\tprops: {\n\t\tdialogId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tshow: {\n\t\t\ttype: Boolean,\n\t\t\trequired: true,\n\t\t},\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['close'],\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tshowPopup: false,\n\t\t\tloadingAdditionalUsers: false,\n\t\t\tadditionalUsers: [],\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t},\n\twatch:\n\t{\n\t\tshow(newValue, oldValue)\n\t\t{\n\t\t\tif (!oldValue && newValue)\n\t\t\t{\n\t\t\t\tthis.showPopup = true;\n\t\t\t\tvoid this.loadUsers();\n\t\t\t}\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tasync loadUsers()\n\t\t{\n\t\t\tthis.loadingAdditionalUsers = true;\n\t\t\ttry\n\t\t\t{\n\t\t\t\tconst userIds = await this.getUserService().loadReadUsers(this.dialog.lastMessageId);\n\t\t\t\tthis.additionalUsers = this.prepareAdditionalUsers(userIds);\n\t\t\t\tthis.loadingAdditionalUsers = false;\n\t\t\t}\n\t\t\tcatch\n\t\t\t{\n\t\t\t\tthis.loadingAdditionalUsers = false;\n\t\t\t}\n\t\t},\n\t\tonPopupClose()\n\t\t{\n\t\t\tthis.showPopup = false;\n\t\t\tthis.$emit('close');\n\t\t},\n\t\tprepareAdditionalUsers(userIds: number[]): number[]\n\t\t{\n\t\t\tconst firstViewerId = this.dialog.lastMessageViews.firstViewer.userId;\n\n\t\t\treturn userIds.filter((userId) => {\n\t\t\t\treturn userId !== Core.getUserId() && userId !== firstViewerId;\n\t\t\t});\n\t\t},\n\t\tgetUserService(): UserService\n\t\t{\n\t\t\tif (!this.userService)\n\t\t\t{\n\t\t\t\tthis.userService = new UserService();\n\t\t\t}\n\n\t\t\treturn this.userService;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<UserListPopup\n\t\t\tid=\"bx-im-dialog-read-users\"\n\t\t\t:showPopup=\"showPopup\"\n\t\t\t:loading=\"loadingAdditionalUsers\"\n\t\t\t:userIds=\"additionalUsers\"\n\t\t\t:contextDialogId=\"dialogId\"\n\t\t\t:bindElement=\"bindElement || {}\"\n\t\t\t:withAngle=\"false\"\n\t\t\t:forceTop=\"true\"\n\t\t\t@close=\"onPopupClose\"\n\t\t/>\n\t`,\n};\n","import { Text } from 'main.core';\n\nimport { ChatType } from 'im.v2.const';\nimport { DateFormatter, DateTemplate } from 'im.v2.lib.date-formatter';\n\nimport { AdditionalUsers } from './additional-users';\n\nimport type { JsonObject } from 'main.core';\nimport type { ImModelChat } from 'im.v2.model';\n\ntype LastMessageViews = {\n\tcountOfViewers: number,\n\tfirstViewer?: {\n\t\tuserId: number,\n\t\tuserName: string,\n\t\tdate: Date\n\t},\n\tmessageId: number\n};\n\nconst MORE_USERS_CSS_CLASS = 'bx-im-dialog-chat-status__user-count';\n\n// @vue/component\nexport const ReadStatus = {\n\tname: 'ReadStatus',\n\tcomponents: { AdditionalUsers },\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tshowAdditionalUsers: false,\n\t\t\tadditionalUsersLinkElement: null,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tisUser(): boolean\n\t\t{\n\t\t\treturn this.dialog.type === ChatType.user;\n\t\t},\n\t\tlastMessageViews(): LastMessageViews\n\t\t{\n\t\t\treturn this.dialog.lastMessageViews;\n\t\t},\n\t\treadStatusText(): string\n\t\t{\n\t\t\tif (this.isUser)\n\t\t\t{\n\t\t\t\treturn this.formatUserViewStatus();\n\t\t\t}\n\n\t\t\treturn this.formatChatViewStatus();\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tformatUserViewStatus(): string\n\t\t{\n\t\t\tconst { date } = this.lastMessageViews.firstViewer;\n\n\t\t\treturn this.loc('IM_ELEMENTS_STATUS_READ_USER_MSGVER_1', {\n\t\t\t\t'#DATE#': DateFormatter.formatByTemplate(date, DateTemplate.messageReadStatus),\n\t\t\t});\n\t\t},\n\t\tformatChatViewStatus(): string\n\t\t{\n\t\t\tconst { countOfViewers, firstViewer } = this.lastMessageViews;\n\t\t\tif (countOfViewers === 1)\n\t\t\t{\n\t\t\t\treturn this.loc('IM_ELEMENTS_STATUS_READ_CHAT', {\n\t\t\t\t\t'#USER#': Text.encode(firstViewer.userName),\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn this.loc('IM_ELEMENTS_STATUS_READ_CHAT_PLURAL', {\n\t\t\t\t'#USERS#': Text.encode(firstViewer.userName),\n\t\t\t\t'#LINK_START#': `<span class=\"${MORE_USERS_CSS_CLASS}\">`,\n\t\t\t\t'#COUNT#': countOfViewers - 1,\n\t\t\t\t'#LINK_END#': '</span>',\n\t\t\t});\n\t\t},\n\t\tonClick(event: PointerEvent)\n\t\t{\n\t\t\tif (!event.target.matches(`.${MORE_USERS_CSS_CLASS}`))\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.openUsersPopup();\n\t\t},\n\t\topenUsersPopup()\n\t\t{\n\t\t\tthis.additionalUsersLinkElement = document.querySelector(`.${MORE_USERS_CSS_CLASS}`);\n\t\t\tthis.showAdditionalUsers = true;\n\t\t},\n\t\tonUsersPopupClose()\n\t\t{\n\t\t\tthis.showAdditionalUsers = false;\n\t\t\tthis.additionalUsersLinkElement = null;\n\t\t},\n\t\tloc(phraseCode: string, replacements: {[string]: string} = {}): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode, replacements);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-dialog-chat-status__content\">\n\t\t\t<div class=\"bx-im-dialog-chat-status__icon --read\"></div>\n\t\t\t<div v-html=\"readStatusText\" @click=\"onClick\" class=\"bx-im-dialog-chat-status__text\"></div>\n\t\t\t<AdditionalUsers\n\t\t\t\t:dialogId=\"dialogId\"\n\t\t\t\t:show=\"showAdditionalUsers\"\n\t\t\t\t:bindElement=\"additionalUsersLinkElement || {}\"\n\t\t\t\t@close=\"onUsersPopupClose\"\n\t\t\t/>\n\t\t</div>\n\t`,\n};\n","import { InputActions } from './components/input-actions';\nimport { ReadStatus } from './components/read-status';\n\nimport './css/dialog-status.css';\n\nimport type { JsonObject } from 'main.core';\nimport type { ImModelChat, ImModelInputActions } from 'im.v2.model';\n\n// @vue/component\nexport const DialogStatus = {\n\tcomponents: { InputActions, ReadStatus },\n\tprops:\n\t{\n\t\tdialogId: {\n\t\t\trequired: true,\n\t\t\ttype: String,\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tenterAnimationFinished: false,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tdialog(): ImModelChat\n\t\t{\n\t\t\treturn this.$store.getters['chats/get'](this.dialogId, true);\n\t\t},\n\t\tchatInputActions(): ?ImModelInputActions\n\t\t{\n\t\t\treturn this.$store.getters['chats/inputActions/getByDialogId'](this.dialogId);\n\t\t},\n\t\tshowInputStatus(): boolean\n\t\t{\n\t\t\treturn this.dialog.inited && this.chatInputActions;\n\t\t},\n\t\tshowReadStatus(): boolean\n\t\t{\n\t\t\treturn this.dialog.inited && this.dialog.lastMessageViews.countOfViewers > 0;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-dialog-chat-status__container\">\n\t\t\t<Transition\n\t\t\t\tname=\"im-dialog-status-animation\"\n\t\t\t\tmode=\"out-in\"\n\t\t\t\t@before-enter=\"enterAnimationFinished = false\"\n\t\t\t\t@enter=\"enterAnimationFinished = true\"\n\t\t\t>\n\t\t\t\t<InputActions v-if=\"showInputStatus\" :dialogId=\"dialogId\" :enterAnimationFinished=\"enterAnimationFinished\" />\n\t\t\t\t<ReadStatus v-else-if=\"showReadStatus\" :dialogId=\"dialogId\" />\n\t\t\t</Transition>\n\t\t</div>\n\t`,\n};\n","import { MessengerPopup } from '../../registry';\n\nimport type { PopupOptions } from 'main.popup';\n\nconst POPUP_ID = 'im-create-chat-promo-popup';\n\n// @vue/component\nexport const PromoPopup = {\n\tname: 'PromoPopup',\n\tcomponents: { MessengerPopup },\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\twidth: 468,\n\t\t\t\tpadding: 0,\n\t\t\t\toverlay: true,\n\t\t\t\tautoHide: false,\n\t\t\t\tcloseByEsc: false,\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\t:config=\"config\"\n\t\t\t@close=\"$emit('close')\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t>\n\t\t\t<slot></slot>\n\t\t</MessengerPopup>\n\t`,\n};\n","import { Lottie } from 'ui.lottie';\n\nimport { Button as MessengerButton, ButtonColor, ButtonSize } from '../../registry';\nimport { PromoPopup } from './promo-popup';\n\nimport GroupChatAnimation from '../animations/group-chat.json';\n\n// @vue/component\nexport const GroupChatPromo = {\n\tcomponents: { PromoPopup, MessengerButton },\n\temits: ['continue', 'close'],\n\tdata()\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tButtonColor: () => ButtonColor,\n\t\tButtonSize: () => ButtonSize,\n\t},\n\tmounted()\n\t{\n\t\tLottie.loadAnimation({\n\t\t\tanimationData: GroupChatAnimation,\n\t\t\tcontainer: this.$refs.animationContainer,\n\t\t\trenderer: 'svg',\n\t\t\tloop: true,\n\t\t\tautoplay: true,\n\t\t});\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<PromoPopup @close=\"$emit('close')\">\n\t\t\t<div class=\"bx-im-group-chat-promo__container\">\n\t\t\t\t<div class=\"bx-im-group-chat-promo__header\">\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__title\">\n\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHAT_TITLE') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__close\" @click=\"$emit('close')\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__content\">\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_image\" ref=\"animationContainer\"></div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --like-blue\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHAT_DESCRIPTION_1') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --chat\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHAT_DESCRIPTION_2') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --group\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHAT_DESCRIPTION_3') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__separator\"></div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__button-panel\">\n\t\t\t\t\t<MessengerButton\n\t\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t\t:color=\"ButtonColor.Primary\"\n\t\t\t\t\t\t:isRounded=\"true\" \n\t\t\t\t\t\t:text=\"loc('IM_ELEMENTS_CREATE_CHAT_PROMO_BUTTON_CONTINUE')\"\n\t\t\t\t\t\t@click=\"$emit('continue')\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MessengerButton\n\t\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t\t:color=\"ButtonColor.Link\"\n\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t:text=\"loc('IM_ELEMENTS_CREATE_CHAT_PROMO_BUTTON_CANCEL')\"\n\t\t\t\t\t\t@click=\"$emit('close')\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</PromoPopup>\n\t`,\n};\n","import { Lottie } from 'ui.lottie';\n\nimport { Button as MessengerButton, ButtonColor, ButtonSize } from '../../registry';\nimport { PromoPopup } from './promo-popup';\nimport ConferenceAnimation from '../animations/conference.json';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ConferencePromo = {\n\tcomponents: { PromoPopup, MessengerButton },\n\temits: ['continue', 'close'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tButtonColor: () => ButtonColor,\n\t\tButtonSize: () => ButtonSize,\n\t},\n\tmounted()\n\t{\n\t\tLottie.loadAnimation({\n\t\t\tanimationData: ConferenceAnimation,\n\t\t\tcontainer: this.$refs.animationContainer,\n\t\t\trenderer: 'svg',\n\t\t\tloop: true,\n\t\t\tautoplay: true,\n\t\t});\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<PromoPopup @close=\"$emit('close')\">\n\t\t\t<div class=\"bx-im-group-chat-promo__container\">\n\t\t\t\t<div class=\"bx-im-group-chat-promo__header\">\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__title\">\n\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CONFERENCE_TITLE') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__close\" @click=\"$emit('close')\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__content\">\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_image\" ref=\"animationContainer\"></div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --camera\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CONFERENCE_DESCRIPTION_1') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --link\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CONFERENCE_DESCRIPTION_2') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --like-orange\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CONFERENCE_DESCRIPTION_3') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__separator\"></div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__button-panel\">\n\t\t\t\t\t<MessengerButton\n\t\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t\t:color=\"ButtonColor.Primary\"\n\t\t\t\t\t\t:isRounded=\"true\" \n\t\t\t\t\t\t:text=\"loc('IM_ELEMENTS_CREATE_CHAT_PROMO_BUTTON_CONTINUE')\"\n\t\t\t\t\t\t@click=\"$emit('continue')\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MessengerButton\n\t\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t\t:color=\"ButtonColor.Link\"\n\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t:text=\"loc('IM_ELEMENTS_CREATE_CHAT_PROMO_BUTTON_CANCEL')\"\n\t\t\t\t\t\t@click=\"$emit('close')\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</PromoPopup>\n\t`,\n};\n","import { Lottie } from 'ui.lottie';\n\nimport { Button as MessengerButton, ButtonColor, ButtonSize } from '../../registry';\nimport { PromoPopup } from './promo-popup';\nimport ChannelAnimation from '../animations/channel.json';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ChannelPromo = {\n\tname: 'ChannelPromo',\n\tcomponents: { PromoPopup, MessengerButton },\n\temits: ['continue', 'close'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tButtonColor: () => ButtonColor,\n\t\tButtonSize: () => ButtonSize,\n\t},\n\tmounted()\n\t{\n\t\tLottie.loadAnimation({\n\t\t\tanimationData: ChannelAnimation,\n\t\t\tcontainer: this.$refs.animationContainer,\n\t\t\trenderer: 'svg',\n\t\t\tloop: true,\n\t\t\tautoplay: true,\n\t\t});\n\t},\n\tmethods:\n\t{\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<PromoPopup @close=\"$emit('close')\">\n\t\t\t<div class=\"bx-im-group-chat-promo__container\">\n\t\t\t\t<div class=\"bx-im-group-chat-promo__header\">\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__title\">\n\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHANNEL_TITLE') }}\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__close\" @click=\"$emit('close')\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__content\">\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_image\" ref=\"animationContainer\"></div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --like-blue\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHANNEL_DESCRIPTION_1') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --channel\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHANNEL_DESCRIPTION_2') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_item\">\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_icon --chat\"></div>\n\t\t\t\t\t\t<div class=\"bx-im-group-chat-promo__content_text\">\n\t\t\t\t\t\t\t{{ loc('IM_ELEMENTS_CREATE_CHAT_PROMO_CHANNEL_DESCRIPTION_3') }}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__separator\"></div>\n\t\t\t\t<div class=\"bx-im-group-chat-promo__button-panel\">\n\t\t\t\t\t<MessengerButton\n\t\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t\t:color=\"ButtonColor.Primary\"\n\t\t\t\t\t\t:isRounded=\"true\" \n\t\t\t\t\t\t:text=\"loc('IM_ELEMENTS_CREATE_CHAT_PROMO_BUTTON_CONTINUE')\"\n\t\t\t\t\t\t@click=\"$emit('continue')\"\n\t\t\t\t\t/>\n\t\t\t\t\t<MessengerButton\n\t\t\t\t\t\t:size=\"ButtonSize.XL\"\n\t\t\t\t\t\t:color=\"ButtonColor.Link\"\n\t\t\t\t\t\t:isRounded=\"true\"\n\t\t\t\t\t\t:text=\"loc('IM_ELEMENTS_CREATE_CHAT_PROMO_BUTTON_CANCEL')\"\n\t\t\t\t\t\t@click=\"$emit('close')\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</PromoPopup>\n\t`,\n};\n","import { ChatType } from 'im.v2.const';\n\nimport { GroupChatPromo } from './components/group-chat';\nimport { ConferencePromo } from './components/conference';\nimport { ChannelPromo } from './components/channel';\n\nimport './css/create-chat-promo.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const CreateChatPromo = {\n\tname: 'CreateChatPromo',\n\tcomponents: { GroupChatPromo, ConferencePromo, ChannelPromo },\n\tprops:\n\t{\n\t\tchatType: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['continue', 'close'],\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\tcomputed:\n\t{\n\t\tChatType: () => ChatType,\n\t},\n\ttemplate: `\n\t\t<GroupChatPromo v-if=\"chatType === ChatType.chat\" @close=\"$emit('close')\" @continue=\"$emit('continue')\" />\n\t\t<ConferencePromo v-else-if=\"chatType === ChatType.videoconf\" @close=\"$emit('close')\" @continue=\"$emit('continue')\" />\n\t\t<ChannelPromo v-else-if=\"chatType === ChatType.channel\" @close=\"$emit('close')\" @continue=\"$emit('continue')\" />\n\t`,\n};\n","import './css/list-loading-state.css';\n\nimport type { JsonObject } from 'main.core';\n\n// @vue/component\nexport const ListLoadingState = {\n\tname: 'ListLoadingState',\n\tdata(): JsonObject\n\t{\n\t\treturn {};\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-list-loading-state__container\"></div>\n\t`,\n};\n","import { RolesDialog, RolesDialogEvents } from 'ai.roles-dialog';\n\n// @vue/component\nexport const CopilotRolesDialog = {\n\tname: 'CopilotRolesDialog',\n\tprops:\n\t{\n\t\ttitle: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t},\n\temits: ['selectRole', 'close'],\n\tcomputed:\n\t{\n\t\ttitleText(): string\n\t\t{\n\t\t\treturn this.title || this.loc('IM_ELEMENTS_COPILOT_ROLES_DIALOG_DEFAULT_TITLE');\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tthis.roleDialog = new RolesDialog({\n\t\t\tmoduleId: 'im',\n\t\t\tcontextId: 'im-copilot-create-chat',\n\t\t\ttitle: this.titleText,\n\t\t});\n\n\t\tthis.subscribeToEvents();\n\t},\n\tmounted()\n\t{\n\t\tvoid this.roleDialog.show();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tif (!this.roleDialog)\n\t\t{\n\t\t\treturn;\n\t\t}\n\n\t\tthis.roleDialog.hide();\n\t\tthis.unsubscribeFromEvents();\n\t},\n\tmethods:\n\t{\n\t\tsubscribeToEvents()\n\t\t{\n\t\t\tthis.roleDialog.subscribe(RolesDialogEvents.SELECT_ROLE, this.onSelectRole);\n\t\t\tthis.roleDialog.subscribe(RolesDialogEvents.HIDE, this.onHide);\n\t\t},\n\t\tunsubscribeFromEvents()\n\t\t{\n\t\t\tthis.roleDialog.unsubscribe(RolesDialogEvents.SELECT_ROLE, this.onSelectRole);\n\t\t\tthis.roleDialog.unsubscribe(RolesDialogEvents.HIDE, this.onHide);\n\t\t},\n\t\tonSelectRole(event)\n\t\t{\n\t\t\tconst { role } = event.getData();\n\t\t\tif (!role)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tthis.$emit('selectRole', role);\n\t\t},\n\t\tonHide()\n\t\t{\n\t\t\tthis.$emit('close');\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: '<template></template>',\n};\n","import { Hint } from 'ui.vue3.components.hint';\n\nimport type { PopupOptions } from 'main.popup';\n\n// @vue/component\nexport const ChatHint = {\n\tname: 'ChatHint',\n\tcomponents: { Hint },\n\tprops:\n\t{\n\t\ttext: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\thtml: {\n\t\t\ttype: String,\n\t\t\trequired: false,\n\t\t\tdefault: '',\n\t\t},\n\t\tpopupOptions: {\n\t\t\ttype: Object,\n\t\t\trequired: false,\n\t\t\tdefault(): {} {\n\t\t\t\treturn {};\n\t\t\t},\n\t\t},\n\t},\n\tcomputed:\n\t{\n\t\tpreparedPopupOptions(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\t...this.popupOptions,\n\t\t\t};\n\t\t},\n\t},\n\ttemplate: `\n\t\t<Hint :text=\"text\" :html=\"html\" :popupOptions=\"preparedPopupOptions\" />\n\t`,\n};\n","import 'ui.fonts.opensans';\nimport 'main.polyfill.intersectionobserver';\nimport { lazyload } from 'ui.vue3.directives.lazyload';\n\nimport { FadeAnimation } from 'im.v2.component.animation';\n\nimport { formatTime } from './helpers/format-time';\n\nimport './css/videoplayer.css';\n\nimport type { JsonObject } from 'main.core';\n\nconst State = Object.freeze({\n\tplay: 'play',\n\tpause: 'pause',\n\tstop: 'stop',\n\tnone: 'none',\n});\n\nconst PreloadAttribute = Object.freeze({\n\tnone: 'none',\n\tmetadata: 'metadata',\n\tauto: 'auto',\n});\n\n// @vue/component\nexport const VideoPlayer = {\n\tname: 'VideoPlayer',\n\tdirectives: { lazyload },\n\tcomponents: { FadeAnimation },\n\tprops:\n\t{\n\t\tfileId: {\n\t\t\ttype: [Number, String],\n\t\t\tdefault: 0,\n\t\t},\n\t\tsrc: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t\tpreviewImageUrl: {\n\t\t\ttype: String,\n\t\t\tdefault: '',\n\t\t},\n\t\twithAutoplay: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\telementStyle: {\n\t\t\ttype: Object,\n\t\t\tdefault: null,\n\t\t},\n\t\twithPlayerControls: {\n\t\t\ttype: Boolean,\n\t\t\tdefault: true,\n\t\t},\n\t\tviewerAttributes: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tpreloadAttribute: PreloadAttribute.none,\n\t\t\tloaded: false,\n\t\t\tloading: false,\n\t\t\tstate: State.none,\n\t\t\ttimeCurrent: 0,\n\t\t\ttimeTotal: 0,\n\t\t\tisMuted: true,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tState: () => State,\n\t\tisAutoPlayDisabled(): boolean\n\t\t{\n\t\t\treturn !this.withAutoplay && this.state === State.none;\n\t\t},\n\t\tshowStartButton(): boolean\n\t\t{\n\t\t\treturn this.withPlayerControls && this.isAutoPlayDisabled;\n\t\t},\n\t\tshowInterface(): boolean\n\t\t{\n\t\t\treturn this.withPlayerControls && !this.showStartButton;\n\t\t},\n\t\tformattedTime(): string\n\t\t{\n\t\t\tif (!this.loaded && !this.timeTotal)\n\t\t\t{\n\t\t\t\treturn '--:--';\n\t\t\t}\n\n\t\t\tlet time = 0;\n\t\t\tif (this.state === State.play)\n\t\t\t{\n\t\t\t\ttime = this.timeTotal - this.timeCurrent;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\ttime = this.timeTotal;\n\t\t\t}\n\n\t\t\treturn formatTime(time);\n\t\t},\n\t\tcontrolButtonClass(): string\n\t\t{\n\t\t\tif (this.loading)\n\t\t\t{\n\t\t\t\treturn '--loading';\n\t\t\t}\n\n\t\t\treturn this.state === State.play ? '--pause' : '--play';\n\t\t},\n\t\tsource(): HTMLVideoElement\n\t\t{\n\t\t\treturn this.$refs.source;\n\t\t},\n\t\thasViewerAttributes(): boolean\n\t\t{\n\t\t\treturn Object.keys(this.viewerAttributes).length > 0;\n\t\t},\n\t},\n\tcreated()\n\t{\n\t\tif (!this.previewImageUrl)\n\t\t{\n\t\t\tthis.preloadAttribute = PreloadAttribute.metadata;\n\t\t}\n\t},\n\tmounted()\n\t{\n\t\tthis.getObserver().observe(this.$refs.body);\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.getObserver().unobserve(this.$refs.body);\n\t},\n\tmethods:\n\t{\n\t\tloadFile()\n\t\t{\n\t\t\tif (this.loaded || this.loading)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.preloadAttribute = PreloadAttribute.auto;\n\n\t\t\tthis.loading = true;\n\t\t\tthis.playAfterLoad = true;\n\t\t},\n\t\thandleControlClick()\n\t\t{\n\t\t\tif (this.state === State.play)\n\t\t\t{\n\t\t\t\tthis.getObserver().unobserve(this.$refs.body);\n\t\t\t\tthis.pause();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.play();\n\t\t\t}\n\t\t},\n\t\thandleMuteClick()\n\t\t{\n\t\t\tif (this.isMuted)\n\t\t\t{\n\t\t\t\tthis.unmute();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.mute();\n\t\t\t}\n\t\t},\n\t\thandleContainerClick()\n\t\t{\n\t\t\tif (this.hasViewerAttributes)\n\t\t\t{\n\t\t\t\tthis.pause();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.handleControlClick();\n\t\t},\n\t\tplay()\n\t\t{\n\t\t\tif (!this.loaded)\n\t\t\t{\n\t\t\t\tthis.loadFile();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tvoid this.source.play();\n\t\t},\n\t\tpause()\n\t\t{\n\t\t\tthis.source.pause();\n\t\t},\n\t\tmute()\n\t\t{\n\t\t\tthis.isMuted = true;\n\t\t\tthis.source.muted = true;\n\t\t},\n\t\tunmute()\n\t\t{\n\t\t\tthis.isMuted = false;\n\t\t\tthis.source.muted = false;\n\t\t},\n\t\thandleError(event: Event)\n\t\t{\n\t\t\tconsole.error('Im.VideoPlayer: loading failed', this.fileId, event);\n\n\t\t\tthis.loading = false;\n\t\t\tthis.state = State.none;\n\t\t\tthis.timeTotal = 0;\n\t\t\tthis.preloadAttribute = PreloadAttribute.none;\n\t\t},\n\t\thandleAbort(event: Event)\n\t\t{\n\t\t\tthis.handleError(event);\n\t\t},\n\t\thandlePlay()\n\t\t{\n\t\t\tthis.state = State.play;\n\t\t},\n\t\thandleLoadedData()\n\t\t{\n\t\t\tthis.timeTotal = this.source.duration;\n\t\t},\n\t\thandleDurationChange()\n\t\t{\n\t\t\tthis.handleLoadedData();\n\t\t},\n\t\thandleLoadedMetaData()\n\t\t{\n\t\t\tthis.timeTotal = this.source.duration;\n\t\t\tthis.loaded = true;\n\t\t\tthis.play();\n\t\t},\n\t\thandleCanPlayThrough()\n\t\t{\n\t\t\tthis.loading = false;\n\t\t\tthis.loaded = true;\n\t\t\tthis.play();\n\t\t},\n\t\thandlePause()\n\t\t{\n\t\t\tif (this.state === State.stop)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.state = State.pause;\n\t\t},\n\t\thandleVolumeChange()\n\t\t{\n\t\t\tif (this.source.muted)\n\t\t\t{\n\t\t\t\tthis.mute();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.unmute();\n\t\t\t}\n\t\t},\n\t\thandleTimeUpdate()\n\t\t{\n\t\t\tthis.timeCurrent = this.source.currentTime;\n\t\t},\n\t\tgetObserver(): IntersectionObserver\n\t\t{\n\t\t\tif (this.observer)\n\t\t\t{\n\t\t\t\treturn this.observer;\n\t\t\t}\n\n\t\t\tthis.observer = new IntersectionObserver((entries) => {\n\t\t\t\tif (this.isAutoPlayDisabled)\n\t\t\t\t{\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tentries.forEach((entry) => {\n\t\t\t\t\tif (entry.isIntersecting)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.play();\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.pause();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}, {\n\t\t\t\tthreshold: [0, 1],\n\t\t\t});\n\n\t\t\treturn this.observer;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-video-player__container\" @click.stop=\"handleContainerClick\">\n\t\t\t<FadeAnimation :duration=\"500\">\n\t\t\t\t<div v-if=\"showStartButton\" class=\"bx-im-video-player__start-play_button\" @click.stop=\"handleControlClick\">\n\t\t\t\t\t<span class=\"bx-im-video-player__start-play_icon\"></span>\n\t\t\t\t</div>\n\t\t\t</FadeAnimation>\n\t\t\t<FadeAnimation :duration=\"500\">\n\t\t\t\t<div v-if=\"showInterface\" class=\"bx-im-video-player__control-button_container\" @click.stop=\"handleControlClick\">\n\t\t\t\t\t<button class=\"bx-im-video-player__control-button\" :class=\"controlButtonClass\"></button>\n\t\t\t\t</div>\n\t\t\t</FadeAnimation>\n\t\t\t<FadeAnimation :duration=\"500\">\n\t\t\t\t<div \n\t\t\t\t\tv-if=\"showInterface\" \n\t\t\t\t\tclass=\"bx-im-video-player__info-container\" \n\t\t\t\t\t@click.stop=\"handleMuteClick\"\n\t\t\t\t>\n\t\t\t\t\t<span class=\"bx-im-video-player__time\">{{ formattedTime }}</span>\n\t\t\t\t\t<span class=\"bx-im-video-player__sound\" :class=\"{'--muted': isMuted}\"></span>\n\t\t\t\t</div>\n\t\t\t</FadeAnimation>\n\t\t\t<div class=\"bx-im-video-player__video-container\" ref=\"body\">\n\t\t\t\t<video\n\t\t\t\t\tv-bind=\"viewerAttributes\"\n\t\t\t\t\t:src=\"src\"\n\t\t\t\t\tclass=\"bx-im-video-player__video\"\n\t\t\t\t\t:poster=\"previewImageUrl\"\n\t\t\t\t\tref=\"source\"\n\t\t\t\t\t:preload=\"preloadAttribute\"\n\t\t\t\t\tplaysinline\n\t\t\t\t\tloop\n\t\t\t\t\tmuted\n\t\t\t\t\t:style=\"elementStyle\"\n\t\t\t\t\t@abort=\"handleAbort\"\n\t\t\t\t\t@error=\"handleError\"\n\t\t\t\t\t@canplaythrough=\"handleCanPlayThrough\"\n\t\t\t\t\t@durationchange=\"handleDurationChange\"\n\t\t\t\t\t@loadeddata=\"handleLoadedData\"\n\t\t\t\t\t@loadedmetadata=\"handleLoadedMetaData\"\n\t\t\t\t\t@volumechange=\"handleVolumeChange\"\n\t\t\t\t\t@timeupdate=\"handleTimeUpdate\"\n\t\t\t\t\t@play=\"handlePlay\"\n\t\t\t\t\t@pause=\"handlePause\"\n\t\t\t\t></video>\n\t\t\t</div>\n\t\t</div>\n\t`,\n};\n","import { Type } from 'main.core';\n\nimport './segment-button.css';\n\ntype Button = {\n\tid: string,\n\ttitle: string,\n};\n\n// @vue/component\nexport const SegmentButton = {\n\tname: 'SegmentButton',\n\tprops:\n\t{\n\t\ttabs: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t\tvalidator(value): boolean\n\t\t\t{\n\t\t\t\treturn Type.isArrayFilled(value);\n\t\t\t},\n\t\t},\n\t\tactiveTabId: {\n\t\t\ttype: String,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['segmentSelected'],\n\tmethods:\n\t{\n\t\tisTabActive(tab: Button): boolean\n\t\t{\n\t\t\treturn this.activeTabId === tab.id;\n\t\t},\n\t\tonTabClick(tab: Button): void\n\t\t{\n\t\t\tthis.$emit('segmentSelected', tab.id);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-segment-button__container\">\n\t\t\t<button\n\t\t\t\tv-for=\"tab in tabs\"\n\t\t\t\t:class=\"{'--active': isTabActive(tab)}\"\n\t\t\t\tclass=\"--ellipsis\"\n\t\t\t\t@click=\"onTabClick(tab)\"\n\t\t\t>\n\t\t\t\t{{ tab.title }}\n\t\t\t</button>\n\t\t</div>\n\t`,\n};\n","import { Lottie } from 'ui.lottie';\n\nimport InputAnimation from './animations/input.json';\n\nimport './css/input-action-indicator.css';\n\n// @vue/component\nexport const InputActionIndicator = {\n\tname: 'InputActionIndicator',\n\tmounted()\n\t{\n\t\tthis.playAnimation();\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.animation.destroy();\n\t},\n\tmethods:\n\t{\n\t\tplayAnimation(): void\n\t\t{\n\t\t\tthis.animation = Lottie.loadAnimation({\n\t\t\t\tanimationData: InputAnimation,\n\t\t\t\tcontainer: this.$refs.animationContainer,\n\t\t\t\trenderer: 'svg',\n\t\t\t\tloop: true,\n\t\t\t\tautoplay: true,\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-input-action-indicator__container\" ref=\"animationContainer\"></div>\n\t`,\n};\n","import 'ui.forms';\nimport { Tag } from 'main.core';\nimport { MenuManager, type Menu } from 'main.popup';\n\nimport { AutoDeleteDelay } from 'im.v2.const';\nimport { AutoDeleteManager } from 'im.v2.lib.auto-delete';\n\nimport './css/auto-delete-dropdown.css';\n\nimport type { JsonObject } from 'main.core';\n\nconst MENU_ID = 'im-auto-delete-delay-dropdown';\n\n// @vue/component\nexport const AutoDeleteDropdown = {\n\tname: 'AutoDeleteDropdown',\n\tprops: {\n\t\tcurrentDelay: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['delayChange'],\n\tdata(): JsonObject\n\t{\n\t\treturn {\n\t\t\tmenuOpened: false,\n\t\t\tselectedValue: AutoDeleteDelay.Off,\n\t\t};\n\t},\n\tcomputed:\n\t{\n\t\tisEnabled(): boolean\n\t\t{\n\t\t\treturn this.currentDelay !== AutoDeleteDelay.Off;\n\t\t},\n\t\tautoDeleteText(): string\n\t\t{\n\t\t\treturn AutoDeleteManager.getStatusText(this.currentDelay);\n\t\t},\n\t},\n\tbeforeUnmount()\n\t{\n\t\tthis.menuInstance?.destroy();\n\t},\n\tmethods: {\n\t\ttoggleMenu()\n\t\t{\n\t\t\tif (this.currentDelay === AutoDeleteDelay.Off)\n\t\t\t{\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.menuInstance = this.getMenuInstance();\n\t\t\tif (this.menuOpened)\n\t\t\t{\n\t\t\t\tthis.menuInstance.close();\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tthis.menuInstance.show();\n\t\t\tthis.menuOpened = true;\n\t\t},\n\t\tgetMenuInstance(): Menu\n\t\t{\n\t\t\treturn MenuManager.create({\n\t\t\t\tid: MENU_ID,\n\t\t\t\tbindOptions: { forceBindPosition: true, position: 'bottom' },\n\t\t\t\toffsetTop: 6,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\tbindElement: this.$refs.dropdown,\n\t\t\t\tclassName: 'bx-im-messenger__scope bx-im-auto-delete-dropdown__scope',\n\t\t\t\twidth: 193,\n\t\t\t\titems: this.getMenuItems(),\n\t\t\t\tevents: {\n\t\t\t\t\tonClose: () => {\n\t\t\t\t\t\tthis.menuOpened = false;\n\t\t\t\t\t\tthis.menuInstance.destroy();\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t});\n\t\t},\n\t\tgetMenuItems(): Array<{ html: HTMLElement, onclick: Function }>\n\t\t{\n\t\t\treturn Object.values(AutoDeleteDelay).map((delay) => {\n\t\t\t\tconst isSelected = delay === this.currentDelay;\n\n\t\t\t\treturn {\n\t\t\t\t\thtml: this.getMenuItemHtml(delay, isSelected),\n\t\t\t\t\tonclick: () => {\n\t\t\t\t\t\tthis.$emit('delayChange', delay);\n\t\t\t\t\t\tthis.menuInstance.close();\n\t\t\t\t\t},\n\t\t\t\t};\n\t\t\t});\n\t\t},\n\t\tgetMenuItemHtml(delay: number, selected: boolean): HTMLElement\n\t\t{\n\t\t\tconst icon = selected ? '<span class=\"bx-im-auto-delete-dropdown__icon\"></span>' : '';\n\n\t\t\treturn Tag.render`\n\t\t\t\t<span class=\"bx-im-auto-delete-dropdown__item\">\n\t\t\t\t\t${AutoDeleteManager.getStatusText(delay)}\n\t\t\t\t\t${icon}\n\t\t\t\t</span>\n\t\t\t`;\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div\n\t\t\tref=\"dropdown\"\n\t\t\tclass=\"bx-im-auto-delete-dropdown__container bx-im-auto-delete-dropdown__scope\"\n\t\t\t:class=\"{'--enabled': isEnabled}\"\n\t\t\t@click=\"toggleMenu\"\n\t\t>\n\t\t\t{{ autoDeleteText }}\n\t\t</div>\n\t`,\n};\n","import './css/radio-group.css';\n\n// @vue/component\nexport const RadioGroup = {\n\tname: 'RadioGroup',\n\tprops:\n\t{\n\t\titems: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t},\n\temits: ['change'],\n\tcomputed:\n\t{\n\t\tselectedValue(): number\n\t\t{\n\t\t\treturn this.items.find((option) => option.selected).value;\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonInput(value): void\n\t\t{\n\t\t\tthis.$emit('change', value);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<div class=\"bx-im-auto-delete-popup-radio__container\">\n\t\t\t<label v-for=\"option in items\" class=\"bx-im-auto-delete-popup-radio__option\">\n\t\t\t\t<input\n\t\t\t\t\ttype=\"radio\"\n\t\t\t\t\tclass=\"bx-im-auto-delete-popup-radio__input\"\n\t\t\t\t\t:value=\"option.value\"\n\t\t\t\t\t:checked=\"option.value === selectedValue\"\n\t\t\t\t\t@change=\"onInput(option.value)\"\n\t\t\t\t/>\n\t\t\t\t<span class=\"bx-im-auto-delete-popup-radio__label\">{{ option.text }}</span>\n\t\t\t</label>\n\t\t</div>\n\t`,\n};\n","import { AutoDeleteDelay } from 'im.v2.const';\nimport { AutoDeleteManager } from 'im.v2.lib.auto-delete';\n\nimport { RadioGroup } from './components/radio-group/radio-group';\nimport { MessengerPopup } from '../registry';\n\nimport './css/auto-delete-popup.css';\n\nimport type { PopupOptions } from 'main.popup';\n\ntype AutoDeleteDelayOption = {\n\tvalue: number;\n\ttext: string;\n\tselected: boolean;\n};\n\nconst POPUP_ID = 'auto-delete-choose-delay-popup';\n\n// @vue/component\nexport const AutoDeletePopup = {\n\tname: 'AutoDeletePopup',\n\tcomponents: { MessengerPopup, RadioGroup },\n\tprops:\n\t{\n\t\tautoDeleteDelay: {\n\t\t\ttype: Number,\n\t\t\tdefault: 0,\n\t\t},\n\t},\n\temits: ['close', 'autoDeleteDelayChange'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tconfig(): PopupOptions\n\t\t{\n\t\t\treturn {\n\t\t\t\toverlay: true,\n\t\t\t\theight: 342,\n\t\t\t\twidth: 400,\n\t\t\t\ttitleBar: this.loc('IM_ELEMENTS_AUTO_DELETE_POPUP_TITLE'),\n\t\t\t\tcloseIcon: true,\n\t\t\t\ttargetContainer: document.body,\n\t\t\t\tfixed: true,\n\t\t\t\tpadding: 0,\n\t\t\t\tautoHide: true,\n\t\t\t\tcontentPadding: 0,\n\t\t\t\tcontentBackground: '#fff',\n\t\t\t\tclassName: 'bx-im-auto-delete-popup__scope',\n\t\t\t};\n\t\t},\n\t\toptions(): AutoDeleteDelayOption[]\n\t\t{\n\t\t\treturn Object.values(AutoDeleteDelay).map((delayValue) => ({\n\t\t\t\tvalue: delayValue,\n\t\t\t\ttext: AutoDeleteManager.getStatusText(delayValue),\n\t\t\t\tselected: this.autoDeleteDelay === delayValue,\n\t\t\t}));\n\t\t},\n\t},\n\tmethods:\n\t{\n\t\tonAutoDeleteDelayChange(delay: number): void\n\t\t{\n\t\t\tthis.$emit('autoDeleteDelayChange', delay);\n\t\t\tthis.$emit('close');\n\t\t},\n\t\tloc(phraseCode: string): string\n\t\t{\n\t\t\treturn this.$Bitrix.Loc.getMessage(phraseCode);\n\t\t},\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\t:config=\"config\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t\t@close=\"$emit('close')\"\n\t\t>\n\t\t\t<div class=\"bx-im-auto-delete-popup__container\">\n\t\t\t\t<div class=\"bx-im-auto-delete-popup__info\">\n\t\t\t\t\t{{ this.loc('IM_ELEMENTS_AUTO_DELETE_POPUP_INFO') }}\n\t\t\t\t</div>\n\t\t\t\t<RadioGroup :items=\"options\" @change=\"onAutoDeleteDelayChange\" />\n\t\t\t</div>\n\t\t</MessengerPopup>\n\t`,\n};\n","import { Loc } from 'main.core';\n\nimport { MessengerPopup } from '../registry';\n\nimport './css/auto-delete-hint.css';\n\nimport type { JsonObject } from 'main.core';\n\nconst POPUP_ID = 'im-auto-delete-hint-popup';\nconst ARTICLE_CODE = '24402288';\n\n// @vue/component\nexport const AutoDeleteHint = {\n\tname: 'AutoDeleteHint',\n\tcomponents: { MessengerPopup },\n\tprops:\n\t{\n\t\tbindElement: {\n\t\t\ttype: Object,\n\t\t\trequired: true,\n\t\t},\n\t\tconfig: {\n\t\t\ttype: Object,\n\t\t\tdefault: () => {},\n\t\t},\n\t},\n\temits: ['close'],\n\tcomputed:\n\t{\n\t\tPOPUP_ID: () => POPUP_ID,\n\t\tARTICLE_CODE: () => ARTICLE_CODE,\n\t\tgetConfig(): JsonObject\n\t\t{\n\t\t\treturn {\n\t\t\t\tdarkMode: true,\n\t\t\t\tbindElement: this.bindElement,\n\t\t\t\tangle: true,\n\t\t\t\twidth: 317,\n\t\t\t\tcloseIcon: true,\n\t\t\t\toffsetLeft: 45,\n\t\t\t\tclassName: 'bx-im-auto-delete-hint__scope',\n\t\t\t\tcontentBorderRadius: 0,\n\t\t\t\t...this.config,\n\t\t\t};\n\t\t},\n\t\thintText(): string\n\t\t{\n\t\t\tconst articleLink = `BX.Helper?.show('redirect=detail&code=${ARTICLE_CODE}')`;\n\n\t\t\treturn Loc.getMessage('IM_ELEMENTS_AUTO_DELETE_NO_PERMISSION', {\n\t\t\t\t'[helpdesklink]': `<a class=\"bx-im-auto-delete-hint__helpdesk-link\" onclick=\"${articleLink}\">`,\n\t\t\t\t'[/helpdesklink]': '</a>',\n\t\t\t});\n\t\t},\n\t},\n\ttemplate: `\n\t\t<MessengerPopup\n\t\t\t:config=\"getConfig\"\n\t\t\t:id=\"POPUP_ID\"\n\t\t\t@close=\"$emit('close')\"\n\t\t>\n\t\t\t<div class=\"bx-im-auto-delete-hint__container\">\n\t\t\t\t<div class=\"bx-im-auto-delete-hint__text\" v-html=\"hintText\" />\n\t\t\t</div>\n\t\t</MessengerPopup>\n\t`,\n};\n"],"names":["AvatarSize","Object","freeze","XXS","XS","S","M","L","XL","XXL","XXXL","AvatarSizeMap","Avatar","name","props","dialogId","type","String","Number","default","customSource","size","withAvatarLetters","Boolean","withSpecialTypes","withSpecialTypeIcon","withTooltip","backgroundColor","data","imageLoadError","computed","dialog","$store","getters","isChannel","ChannelManager","isSpecialType","commonTypes","ChatType","user","chat","open","lines","includes","containerTitle","containerClasses","classes","toLowerCase","push","typeClass","backgroundColorStyle","color","avatarText","showAvatarLetters","isEnoughSizeForText","Utils","text","getFirstLetters","SPECIAL_TYPES_WITH_LETTERS","openChannel","channel","showSpecialTypeIcon","avatarSizesWithText","toUpperCase","avatarUrl","length","avatar","hasImage","watch","methods","onImageLoadError","template","AvatarType","extranet","collaber","collab","BaseUiAvatar","required","validator","value","values","url","title","calculatedSize","setTitle","setAvatarImage","created","classMap","AvatarRoundExtranet","AvatarRoundGuest","AvatarHexagonGuest","AvatarBase","AvatarClass","setBackgroundColor","mounted","$refs","avatarContainer","renderTo","setUserPic","setBaseColor","CollabChatAvatar","components","dialogName","dialogAvatarUrl","collabBackgroundColor","Color","collab60","CollaberAvatar","collaberBackgroundColor","ExtranetChatAvatar","extranetBackgroundColor","orange50","ChatNotesAvatar","sizeClass","loc","phraseCode","$Bitrix","Loc","getMessage","ChatAvatarType","notes","ChatAvatar","CollabAvatar","ExtranetUserAvatar","avatarDialogId","contextDialogId","customType","isUser","avatarDialog","customAvatarUrl","copilotManager","CopilotManager","isCopilotChatOrBot","getRoleAvatarUrl","isCollabChat","isCollaber","UserType","isExtranetChat","isExtranet","avatarComponent","MessageAvatar","messageId","authorId","isCopilotMessage","getMessageRoleAvatar","avatarMap","EmptyAvatarType","squared","COLLAB_EMPTY_AVATAR_URL","EmptyAvatar","isSquared","isCollabType","collabEmptyAvatarUrl","Type","isStringFilled","DialogSpecialType","bot","network","support24","TitleIcons","absent","birthday","ChatTitleType","ChatTitle","showItsYou","withLeftIcon","withColor","withMute","withAutoDelete","onlyFirstName","twoLine","chatId","botType","isSelfChat","id","Core","getUserId","Text","encode","resultText","firstName","dialogSpecialType","isCollaberChatOrUser","support24Notifier","support24Question","isBot","isNetwork","isDialogSpecialTypeWithLeftIcon","leftIcon","showBirthdays","isBirthday","isAbsent","specialColor","containsCollaber","isChatMuted","isMuted","muteList","find","element","isAutoDeleteEnabled","tooltipText","Settings","recent","showBirthday","MessageAuthorTitle","message","customAuthorName","isCopilotBot","getNameWithRole","ButtonSize","ButtonColor","Primary","PrimaryLight","Copilot","Success","Danger","LightBorder","DangerBorder","PrimaryBorder","Link","Collab","Delete","Forward","ButtonIcon","Plus","Call","EndCall","AddUser","Camera","Button","icon","customColorScheme","borderColor","iconColor","textColor","hoverColor","textHoverColor","isRounded","isDisabled","isLoading","isUppercase","emits","buttonStyles","result","hasCustomColorScheme","buttonClasses","iconStyles","iconClasses","isPlainObject","onClick","event","$emit","POPUP_CONTAINER_PREFIX","POPUP_BORDER_RADIUS","MessengerPopup","config","popupContainer","Logger","warn","instance","getPopupInstance","show","adjustPosition","forceBindPosition","position","getPopupConfig","bindOptions","beforeUnmount","closePopup","PopupManager","getPopupById","destroy","Popup","getDefaultConfig","offsetTop","offsetLeft","className","cacheable","closeIcon","autoHide","closeByEsc","animation","events","onPopupClose","bind","onPopupDestroy","contentBorderRadius","defaultConfig","modifiedOptions","defaultClassName","isNumber","enableAutoHide","setAutoHide","disableAutoHide","MenuItemIcon","conference","upload","file","task","meeting","summary","vote","aiText","aiImage","copilot","calendarSlot","documentSign","b24","MenuItem","subtitle","disabled","counter","formattedCounter","ID_PREFIX","MessengerMenu","getUuidV4","AttachDelimiter","internalConfig","styles","delimiter","width","AttachFileItem","fileName","fileSize","link","fileShortName","NAME_MAX_LENGTH","getShortFileName","formattedFileSize","formatFileSize","fileIcon","getIconTypeByFilename","openLink","window","AttachFile","AttachGridItemDisplayType","block","line","row","DisplayType","AttachGridItem","display","Parser","decodeText","colorToken","AttachGrid","AttachHtml","html","decodeHtml","MAX_IMAGE_SIZE","AttachImageItem","directives","lazyload","height","preview","source","imageSize","sizes","resizeToFitMaxSize","hasWidth","lazyLoadCallback","Dom","style","offsetWidth","offsetHeight","AttachImage","AttachLinkItem","description","desc","content","imageConfig","image","AttachLink","AttachMessage","RichService","constructor","getRestClient","getStore","deleteRichLink","attachId","dispatch","callMethod","RestMethod","imV2ChatMessageDeleteRichUrl","catch","console","error","AttachRichItem","inject","convertHtmlEntities","previewSize","canShowDeleteIcon","deleteRichLinkTitle","imageStyles","AttachRich","AVATAR_TYPE","AttachUserItem","avatarType","avatarTypeClass","AttachUser","PropertyToComponentMap","AttachType","Delimiter","File","Grid","Html","Image","Message","Rich","User","Attach","blocks","ColorToken","base","getComponentForBlock","blockType","keys","ChatInfoContent","hasError","isChat","chatType","openChatButtonText","userProfileLink","getProfileLink","chatService","ChatService","loadChat","then","onOpenChat","Messenger","openChat","onClickVideoCall","startVideoCall","POPUP_ID","ChatInfoPopup","showPopup","bindElement","minWidth","targetContainer","document","body","padding","angle","UserListService","UserManager","loadUsers","userIds","imUserListGet","ID","errorResult","setUsersToModel","LOADER_SIZE","LOADER_TYPE","Loader","loader","UILoader","target","render","hide","UserItem","userId","userDialogId","toString","onUserClick","UserListContent","Array","adjustPopupFunction","Function","loading","isLoadingUsers","$nextTick","needUserRequest","requestUserData","getUserListService","userListService","getUser","some","UserListPopup","withAngle","forceTop","KeyboardButton","keyboardBlocked","button","bgColorToken","wait","displayClass","KeyboardButtonDisplay","action","actionValue","handleAction","appId","preparedLink","decode","browser","command","handleCustomCommand","payload","botId","commandParams","KeyboardSeparator","ActionManager","KeyboardButtonAction","send","put","call","copy","SendingService","getInstance","sendMessage","EventEmitter","emit","EventType","textarea","insertText","PhoneManager","startCall","BX","clipboard","Notifier","onCopyTextComplete","BotService","params","sendCommand","queryParams","MESSAGE_ID","DIALOG_ID","BOT_ID","COMMAND","COMMAND_PARAMS","imMessageCommand","Keyboard","buttons","ButtonType","KeyboardButtonType","preparedButtons","filter","context","KeyboardButtonContext","mobile","onButtonActionClick","getActionManager","onButtonCustomCommandClick","getBotService","actionManager","botService","UserStatusSize","UserStatus","status","UserStatusType","Dropdown","items","selectedElement","menuOpened","formattedItems","map","forEach","item","defaultItem","menuInstance","toggleMenu","getMenuInstance","close","container","clientWidth","getPopupWindow","setWidth","MenuManager","create","getMenuItems","onClose","onclick","SpinnerSize","SpinnerColor","grey","blue","Spinner","sizeClassName","colorClassName","LineLoader","containerStyles","ToggleSize","Toggle","isEnabled","ARROW_CONTROL_SIZE","TabsColorScheme","white","gray","MessengerTabs","colorScheme","tabs","hasLeftControl","hasRightControl","currentElementIndex","highlightOffsetLeft","highlightWidth","isFirstCall","highlightStyle","left","colorSchemeClass","newIndex","updateHighlightPosition","scrollToElement","savedTabIndex","localStorage","getItem","scrollWidth","parseInt","setTimeout","setItem","getElementNodeByIndex","index","children","node","hasClass","elementIndex","scroll","behavior","onTabClick","isSelectedTab","onLeftClick","onRightClick","updateControlsVisibility","scrollLeft","formatTime","seconds","hours","Math","floor","minutes","remainingSeconds","formattedHours","formattedMinutes","padZero","formattedSeconds","num","padStart","ID_KEY","AudioPlayer","src","timelineType","withContextMenu","withAvatar","withPlaybackRateControl","preload","loaded","state","State","none","progress","progressInPixel","seek","timeCurrent","timeTotal","showContextButton","currentRate","AudioPlaybackRate","seekPosition","isPlaying","play","labelTime","time","progressPosition","activeTimelineStyles","TIMELINE_VERTICAL_SHIFT","ACTIVE_TIMELINE_VERTICAL_SHIFT","shift","timelineStyles","getAudioPlayerIds","Data","get","currentRateLabel","metaInfo","registerPlayer","preloadNext","localStorageInst","LocalStorageManager","getRateFromLS","preloadRequestSent","registeredId","subscribe","audioPlayer","onPlay","stop","onStop","pause","onPause","onPreload","getObserver","observe","unregisterPlayer","unsubscribe","unobserve","loadFile","clickToButton","updateRate","setPosition","pixelPerPercent","track","setProgress","currentTime","LocalStorageKey","audioPlaybackRate","setRateInLS","newRate","set","getNextPlaybackRate","rates","sort","currentIndex","indexOf","nextIndex","changeRate","commonCurrentRate","playbackRate","seeking","offsetX","percent","pixel","round","audioIdArray","Set","a","b","playNext","nextId","slice","start","getData","initiator","audioEventRouter","eventName","duration","observer","IntersectionObserver","entries","entry","isIntersecting","threshold","ChatTitleWithHighlighting","BitrixVue","cloneComponent","textToHighlight","highlightText","parentDialogName","SearchInput","placeholder","searchMode","withIcon","withLoader","delayForFocusOnStart","query","hasFocus","isEmptyQuery","newValue","focus","blur","onInputUpdate","onFocus","onCloseClick","onClearInput","onKeyUp","key","isCombination","onEscapePressed","searchInput","INPUT_PADDING","EditableChatTitle","isEditing","inputWidth","showEditIcon","chatTitle","canBeRenamed","PermissionManager","canPerformActionByRole","ActionByRole","rename","inputStyle","onTitleClick","titleInput","onNewTitleSubmit","nameNotChanged","onEditCancel","ScrollWithGradient","containerMaxHeight","gradientHeight","withShadow","showTopGradient","showBottomGradient","contentHeightStyle","maxHeight","gradientHeightStyle","onScroll","scrollPosition","scrollTop","clientHeight","scrollHeight","USERS_TO_SHOW","AnimationByActionType","InputAction","writing","WritingAnimation","sendingFile","UploadingAnimation","recordingVoice","RecordingAnimation","LocCodeByActionType","InputActions","enterAnimationFinished","chatInputActions","uniqueUserRecords","userRecord","userName","isSingleUserActive","uniqueUsers","usersToShowText","usersToShow","join","inputActionText","getActionTextForSingleUser","remainingUsersCount","animationName","firstUserRecord","currentAnimation","playAnimation","newAnimation","stopAnimation","animationContainer","code","Lottie","loadAnimation","animationData","renderer","loop","autoplay","replacements","UserService","loadReadUsers","response","imV2ChatMessageTailViewers","users","userManager","AdditionalUsers","loadingAdditionalUsers","additionalUsers","oldValue","getUserService","lastMessageId","prepareAdditionalUsers","firstViewerId","lastMessageViews","firstViewer","userService","MORE_USERS_CSS_CLASS","ReadStatus","showAdditionalUsers","additionalUsersLinkElement","readStatusText","formatUserViewStatus","formatChatViewStatus","date","DateFormatter","formatByTemplate","DateTemplate","messageReadStatus","countOfViewers","matches","openUsersPopup","querySelector","onUsersPopupClose","DialogStatus","showInputStatus","inited","showReadStatus","PromoPopup","overlay","GroupChatPromo","MessengerButton","GroupChatAnimation","ConferencePromo","ConferenceAnimation","ChannelPromo","ChannelAnimation","CreateChatPromo","ListLoadingState","CopilotRolesDialog","titleText","roleDialog","RolesDialog","moduleId","contextId","subscribeToEvents","unsubscribeFromEvents","RolesDialogEvents","SELECT_ROLE","onSelectRole","HIDE","onHide","role","ChatHint","Hint","popupOptions","preparedPopupOptions","PreloadAttribute","metadata","auto","VideoPlayer","FadeAnimation","fileId","previewImageUrl","withAutoplay","elementStyle","withPlayerControls","viewerAttributes","preloadAttribute","isAutoPlayDisabled","showStartButton","showInterface","formattedTime","controlButtonClass","hasViewerAttributes","playAfterLoad","handleControlClick","handleMuteClick","unmute","mute","handleContainerClick","muted","handleError","handleAbort","handlePlay","handleLoadedData","handleDurationChange","handleLoadedMetaData","handleCanPlayThrough","handlePause","handleVolumeChange","handleTimeUpdate","SegmentButton","isArrayFilled","activeTabId","isTabActive","tab","InputActionIndicator","InputAnimation","MENU_ID","AutoDeleteDropdown","currentDelay","selectedValue","AutoDeleteDelay","Off","autoDeleteText","AutoDeleteManager","getStatusText","dropdown","delay","isSelected","getMenuItemHtml","selected","Tag","RadioGroup","option","onInput","AutoDeletePopup","autoDeleteDelay","titleBar","fixed","contentPadding","contentBackground","options","delayValue","onAutoDeleteDelayChange","ARTICLE_CODE","AutoDeleteHint","getConfig","darkMode","hintText","articleLink"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}