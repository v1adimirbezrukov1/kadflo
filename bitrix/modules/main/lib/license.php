<? namespace Bitrix\Main;$GLOBALS['____678331525']= array(base64_decode('ZmlsZV9leGlzdHM='),base64_decode('c3'.'RydG91cH'.'Blcg'.'='.'='),base64_decode('b'.'WQ'.'1'),base64_decode('bWQ1'),base64_decode('a'.'W5fYXJyYXk='),base64_decode('a'.'W5fYXJyYXk='),base64_decode('aW5fYX'.'JyYX'.'k='),base64_decode('ZGVmaW5'.'lZA=='),base64_decode('ZGVmaW5lZ'.'A=='),base64_decode('Z'.'GVmaW'.'5lZA'.'='.'='),base64_decode('Zml'.'sZ'.'V'.'9leGlzdHM='),base64_decode('ZmlsZV9leGlzdHM='),base64_decode('Zm'.'ls'.'ZV9leGl'.'zdH'.'M='),base64_decode('Zml'.'sZV'.'9leGl'.'z'.'dHM'.'='),base64_decode('ZXhwbG9kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___2036870107')){function ___2036870107($_1567950062){static $_1373917865= false; if($_1373917865 == false) $_1373917865=array('L2Jp'.'dHJpeC9saWNlbnNl'.'X2'.'tl'.'eS5wa'.'HA'.'=','','','R'.'EVNTw'.'==','REVNTw==','Qk'.'lUU'.'klY','TElDRU5'.'DRQ==','RE'.'VN'.'Tw==','L2tle'.'V91cGRhdGU'.'u'.'cGh'.'wP2xp'.'Y2Vu'.'c2Vfa2V'.'5PQ==',''.'Jn'.'RvYmFza'.'2V0P'.'XkmbGFuZ'.'z0=',''.'cnU=','a3o=','Ynk'.'=',''.'a'.'HR0cH'.'M6Ly9kZX'.'Yu'.'MWMtYml0cml4LnJ1L2x'.'l'.'Y'.'XJ'.'uaW5nL2NvdXJ'.'zZS9p'.'bmRl'.'eC5waHA/Q09VUlNFX0lEPTE'.'zNS'.'ZM'.'RVNTT05f'.'SUQ9'.'MjU'.'3'.'MjA=','aH'.'R0'.'cH'.'M6L'.'y9'.'0cmFpb'.'mluZ'.'y5i'.'a'.'XRya'.'Xg'.'y'.'NC'.'5jb20'.'vc3'.'VwcG9yd'.'C9'.'0'.'cmF'.'pbm'.'luZy'.'9'.'jb3Vyc2UvaW5kZXgucGh'.'wP'.'0NPVVJTRV'.'9JRD0xNzgmTE'.'V'.'T'.'U09OX0lEPTI1OTMyJkxFU'.'1NPT'.'l'.'9Q'.'Q'.'V'.'RIPTE'.'3NTIw'.'LjE'.'3NTYyLjI1OTMwLj'.'I1OT'.'M'.'y',''.'cnU=','Ynk=','a3o=','ZGU=',''.'ZXU=','ZnI=','cG'.'w=','aXQ=',''.'dWs=','Z'.'XU=',''.'Y2'.'9t','ZW4=',''.'RE'.'V'.'N'.'Tw==','WQ==','VElNRUxJ'.'TUlU'.'X0VESVRJT'.'04'.'=','WQ'.'='.'=','R'.'U5DT0RF','WQ='.'=','U2l0ZU'.'V4c'.'GlyZURhdGU=',''.'b'.'WFpbg==',''.'f'.'nN'.'1cHBvcnRfZml'.'ua'.'XNoX'.'2R'.'hd'.'GU=','WS1tLWQ'.'=','WS'.'1'.'tLWQ=','Yml0c'.'ml4MjQ=','b'.'WF'.'pbg='.'=','flBBUkFNX0NM'.'SUVOVF9'.'MQU5H',''.'aW50cmFuZXQ=','ZW'.'4=','cn'.'U'.'=','b'.'WF'.'p'.'bg==','dm'.'VuZG9y','dWFfYml0cml'.'4'.'X'.'3BvcnRh'.'bA==','dWE=','Y'.'ml0cml4X3B'.'vcnRhbA'.'==',''.'Z'.'W4'.'=','MWNfYm'.'l'.'0'.'cm'.'l4X3Bvc'.'nRhbA='.'=','c'.'nU'.'=','L2JpdHJpeC'.'9t'.'b2R1'.'b'.'GV'.'zL21h'.'aW4vb'.'GFu'.'Zy9'.'1YQ==','dWE'.'=','L2Jpd'.'HJ'.'peC'.'9t'.'b2R1bGVz'.'L21'.'haW4vbGFuZy9ieQ='.'=',''.'Ynk'.'=','L2JpdHJpeC9tb2R'.'1bGVz'.'L21'.'haW4vbGFuZy9'.'re'.'g==','a3'.'o=','L2J'.'pdHJpeC9'.'t'.'b2R1b'.'GVzL21'.'haW4vbG'.'Fu'.'Zy9ydQ==','c'.'nU=','bWFp'.'b'.'g==',''.'fl'.'BBUk'.'F'.'NX1BBU'.'lRORVJfSUQ=','bWFp'.'bg='.'=','UEFSQU1fTUFYX'.'1VTR'.'V'.'J'.'T','b'.'W'.'Fpbg==','fkNPVU5UX0V'.'Y'.'VF'.'J'.'B','Tg==','WQ'.'==','ZXh'.'0cmF'.'uZXQ'.'=',''.'QU5EIFUuTEF'.'TVF9MT0dJTiA'.'+IA==','Q'.'U5'.'EIFU'.'uTE'.'FT'.'VF9'.'MT'.'0d'.'JT'.'iBJUyBOT1'.'QgTl'.'VM'.'TA==','aW5'.'0cmFuZXQ=','Z'.'X'.'h0cmFuZ'.'XQ=',''.'Z'.'X'.'h0cmFuZ'.'XRfZ3J'.'vdXA=',''.'bWFp'.'bg==','fm'.'xpY2Vuc2VfbmF'.'tZQ==','bWFpb'.'g'.'==','fm'.'xpY2Vuc2V'.'fY29kZXM=','','LA='.'=');return base64_decode($_1373917865[$_1567950062]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_673876163= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_673876163 === null){ $_941589735= Loader::getDocumentRoot(). ___2036870107(0); $LICENSE_KEY= ___2036870107(1); if($GLOBALS['____678331525'][0]($_941589735)){ include($_941589735);} $this->_673876163=($LICENSE_KEY == ___2036870107(2) || $GLOBALS['____678331525'][1]($LICENSE_KEY) == ___2036870107(3)? ___2036870107(4): $LICENSE_KEY);} return $this->_673876163;} public function getHashLicenseKey(): string{ return $GLOBALS['____678331525'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____678331525'][3](___2036870107(5). $this->getKey(). ___2036870107(6));} public function isDemoKey(): bool{ return $this->getKey() == ___2036870107(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___2036870107(8). $this->getHashLicenseKey(). ___2036870107(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1670181337= $this->getRegion(); if($GLOBALS['____678331525'][4]($_1670181337,[___2036870107(10), ___2036870107(11), ___2036870107(12)])){ return ___2036870107(13);} return ___2036870107(14);} public function getRenewalLink(): string{ $_1670181337= $this->getRegion(); if($GLOBALS['____678331525'][5]($_1670181337,[___2036870107(15), ___2036870107(16), ___2036870107(17), ___2036870107(18)])){ return self::URL_RENEWAL_LICENSE[$_1670181337];} if($GLOBALS['____678331525'][6]($_1670181337,[___2036870107(19), ___2036870107(20), ___2036870107(21), ___2036870107(22), ___2036870107(23)])){ return self::URL_RENEWAL_LICENSE[___2036870107(24)];} return self::URL_RENEWAL_LICENSE[___2036870107(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___2036870107(26)];} public function isDemo(): bool{ return $GLOBALS['____678331525'][7](___2036870107(27)) && DEMO === ___2036870107(28);} public function isTimeBound(): bool{ return $GLOBALS['____678331525'][8](___2036870107(29)) && TIMELIMIT_EDITION === ___2036870107(30);} public function isEncoded(): bool{ return $GLOBALS['____678331525'][9](___2036870107(31)) && ENCODE === ___2036870107(32);} public function getExpireDate():?Date{ $_1832272673= (int)($GLOBALS[___2036870107(33)] ??(1324/2-662)); if($_1832272673> min(16,0,5.3333333333333)){ return Date::createFromTimestamp($_1832272673);} return null;} public function getSupportExpireDate():?Date{ $_1832272673= Option::get(___2036870107(34), ___2036870107(35)); if(Date::isCorrect($_1832272673, ___2036870107(36))){ return new Date($_1832272673, ___2036870107(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___2036870107(38))){ return \CBitrix24::getPortalZone();} $_1670181337= Option::get(___2036870107(39), ___2036870107(40)); if(!empty($_1670181337)){ return $_1670181337;} $_1670181337= $this->__83465558(); if(!empty($_1670181337)){ return $_1670181337;} return $this->__561767617();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___2036870107(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___2036870107(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___2036870107(43)];} private function __83465558():?string{ $_1613310093= Option::get(___2036870107(44), ___2036870107(45)); if($_1613310093 === ___2036870107(46)){ return ___2036870107(47);} if($_1613310093 === ___2036870107(48)){ return ___2036870107(49);} if($_1613310093 === ___2036870107(50)){ return ___2036870107(51);} return null;} private function __561767617():?string{ $_1469423311= Application::getDocumentRoot(); if($GLOBALS['____678331525'][10]($_1469423311. ___2036870107(52))){ return ___2036870107(53);} if($GLOBALS['____678331525'][11]($_1469423311. ___2036870107(54))){ return ___2036870107(55);} if($GLOBALS['____678331525'][12]($_1469423311. ___2036870107(56))){ return ___2036870107(57);} if($GLOBALS['____678331525'][13]($_1469423311. ___2036870107(58))){ return ___2036870107(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___2036870107(60), ___2036870107(61), min(210,0,70));} public function getMaxUsers(): int{ return (int)Option::get(___2036870107(62), ___2036870107(63),(814-2*407));} public function isExtraCountable(): bool{ return Option::get(___2036870107(64), ___2036870107(65), ___2036870107(66)) === ___2036870107(67) && ModuleManager::isModuleInstalled(___2036870107(68));} public function getActiveUsersCount(Date $_614632960= null): int{ $_1797666758= Application::getConnection(); $_417718319=(1464/2-732); if($_614632960 !== null){  $_1570769441= ___2036870107(69).$_1797666758->getSqlHelper()->convertToDbDate($_614632960);} else{  $_1570769441= ___2036870107(70);} if(ModuleManager::isModuleInstalled(___2036870107(71))){ $_2005595513="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1570769441}
			"; $_417718319= (int)$_1797666758->queryScalar($_2005595513); $_623532129= (int)Option::get(___2036870107(72), ___2036870107(73)); if($_623532129>(968-2*484) && $this->isExtraCountable()){ $_2005595513="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_623532129}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1570769441}
							AND D.VALUE_ID IS NULL
					"; $_417718319 += (int)$_1797666758->queryScalar($_2005595513);}} return $_417718319;}  public function getName(): string{ return Option::get(___2036870107(74), ___2036870107(75));}  public function getCodes(): array{ $_449577833= Option::get(___2036870107(76), ___2036870107(77)); if($_449577833 != ___2036870107(78)){ return $GLOBALS['____678331525'][14](___2036870107(79), $_449577833);} return[];}}?>